<!DOCTYPE html>
<html>
    <head>
        <title>Idle Spiral Info Repo</title>
        <link rel="stylesheet" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.min.js"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="https://kit.fontawesome.com/412ef7d66d.js" crossorigin="anonymous"></script>
        <script>
          // Save file management
          var state = "uninitialized"
          var savefile = {}

          function parseJSON ( text, debug = false ) {
            if ( debug )
              console.log( "Parsing JSON: " + text )

            try {
              return JSON.parse( text )
            } catch ( e ) {
              console.log( "Error parsing JSON: " + e )
              return null
            }
          }
          function serializeJSON ( obj, debug = false ) {
            if ( debug )
              console.log( "Serializing JSON: " + obj )
          }
          function decryptBase64 ( text, debug = false ) {
            if ( debug )
              console.log( "Decrypting base64: " + text )

            return CryptoJS.enc.Base64.parse(text)
          }
          function encryptBase64 ( text, debug = false ) {
            if ( debug )
              console.log( "Encrypting base64: " + text )

            return CryptoJS.enc.Base64.stringify(text)
          }
          function decryptAES ( text, debug = false ) {
            if ( debug )
              console.log( "Decrypting AES: " + text )

            var kdf = CryptoJS.PBKDF2("kkyyhka", "stkttnsstkttns", {
              keySize: 8,
              hasher: CryptoJS.algo.SHA1,
              iterations: 1000
            });

            var key = CryptoJS.enc.Hex.parse(kdf.toString().substring(0, 32));
            var iv = CryptoJS.enc.Hex.parse(kdf.toString().substring(32, 64));

            return CryptoJS.AES.decrypt({ciphertext: text}, key, { iv: iv });
          }
          async function loadSave ( event ) {
            const file = event.target.files.item(0)
            const contents = await file.text()
            state = "encrypted"
            savefile = contents
            document.getElementById("savefile-input").value = savefile

            decryptSave()
            document.getElementById("savefile-decrypted").value = JSON.stringify(savefile, null, 2)

            updateFields()
          }
          function decryptSave ( ) {
            if ( state != "encrypted" )
              return

            savefile = savefile.split("#");
            for ( var i = 0; i < savefile.length; ++i ) {
              savefile[i] = decryptBase64(savefile[i])
              savefile[i] = decryptAES(savefile[i])
              savefile[i] = savefile[i].toString(CryptoJS.enc.Utf8)
              savefile[i] = parseJSON(savefile[i])
            }

            state = "decrypted"
          }
          function encryptSave ( ) {
            if ( state != "decrypted" )
              return

            state = "encrypted"
          }
          function updateFields ( ) {
            if ( state == "encrypted" )
              decryptSave()

            idlespiral.init(savefile[2])
            idlespiral.debug()
            idlespiral.update()
          }
        </script>
        <script>
          // Explanation selection
          var currentExplanation = "";
          function showExplanation ( name ) {
            if ( name == "" ) {
              console.log("No explaination found for " + $(this));
              return;
            }

            if ( currentExplanation != "") {
              console.log("Hiding " + currentExplanation);
              $(currentExplanation).hide();
            }
            var target = "#explanation_" + name;
            console.log("Showing " + target);
            $(target).show();
            currentExplanation = target;

            const url = new URL(window.location.href);
            url.searchParams.set("page", name);
            console.log("Setting URL to " + url);
            window.history.pushState({}, "", url);
          }
          $(document).ready(function() {
            $(".explainable").each(function() {
              $(this).click(function() {
                var name = "";
                var classes = $(this).attr('class').split(' ');
                for ( var i = 0; i < classes.length; i++ ) {
                  if ( classes[i].indexOf('explain_') == 0 ) {
                    name = classes[i].substring(8);
                    break;
                  }
                }

                showExplanation(name);
              });
            });

            var url = new URL(window.location.href);
            console.log("URL: " + url);
            var page = url.searchParams.get("page");
            if ( page != null ) {
              showExplanation(page);
            }
          });

          // Calculations
          var idlespiral = new function IdleSpiral ( ) {
            class Effect {
              constructor ( name, target, type, value ) {
                this.name = name;
                this.target = target;
                this.type = type;
                this.value = value;
              }
            }

            const BattleUpgradesKind = {
              hp_mul_1: 0,
              atk_mul_1: 1,
              def_mul_1: 2,
              regene_mul_1: 3,
              reward_hp_1: 4,
              reward_atk_1: 5,
              reward_def_1: 6,
              critical_indep_01: 7,
              criticalDamage_mul_1: 8,
              reward_exp_1: 9,
              enemy_hp_reduction_add_1: 10,
              regene_while_resting_mul_1: 11,
              attackSpeed_mul_01: 12,
              hp_mul_5: 13,
              atk_mul_5: 14,
              def_mul_5: 15,
              regene_mul_5: 16,
              reward_hp_mul_5: 17,
              reward_atk_mul_5: 18,
              reward_def_mul_5: 19,
              reward_exp_mul_5: 20,
              critical_indep_02: 21,
              criticalDamage_mul_5: 22,
              attack_speed_mul_05: 23,
              maxlevelup_no_24: 24,
              unlock_khuwarizmi: 25,
              unlock_omar: 26,
              unlock_bhaskara: 27,
              unlock_madhava: 28,
              atk_and_def_from_pi: 29,
              exp_from_gamma: 30,
              s_critical_from_napier: 31,
              math_skill_100: 32,
              hp_mul_10: 33,
              atk_mul_10: 34,
              def_mul_10: 35,
              reward_hp_mul_10: 36,
              reward_atk_mul_10: 37,
              reward_def_mul_10: 38,
              reward_exp_mul_10: 39,
              rare_drop_mul_01: 40,
              maxlevelup_no_41: 41,
            }
            const ChallengeKind = {
              none: 0,
              basic: 1,
              SlowSpiral: 2,
              SinSpiral: 3,
              StraightLine: 4,
              drain: 5,
              poorMath: 6,
              no_rebirth: 7,
              drunk: 8,
              gluttony: 9,
              sinkhole: 10,
              sphere: 11,
              fury: 12,
              lava: 13,
              go_back_to: 14,
            }
            const DesignID = {
              normal_brue: 0,
              normal_yellow: 1,
              normal_red: 2,
              normal_violet: 3,
              normal_mono: 4,
              gradation_brue_green: 5,
              gradation_yellow_red: 6,
              gradation_red_blue: 7,
              gradation_violet_pink: 8,
              gradation_white_cyan: 9,
              circles_white: 10,
              circles_green_pink: 11,
              circles_cyan_red: 12,
              dottedLine_blue: 13,
              dottedLine_white: 14,
              dottedLine_orange_brue: 15,
              stripe_white: 16,
              stripe_blue: 17,
              stripe_yellow: 18,
              sine_green: 19,
              sine_white_red: 20,
              sine_orange_purple: 21,
              snake: 22,
              bubble: 23,
              arrow: 24,
              pi: 25,
              rects: 26,
              rainbow: 27,
              kanji: 28,
              rahmen: 29,
              lazer: 30,
              spaceShip: 31,
              seigaiha: 32,
              sippou: 33,
              lame: 34,
            }
            const EquationKind = {
              thales: 0,
              Hypatia: 1,
              archimedes: 2,
              pythagoras: 3,
              euclides: 4,
              eratos: 5,
              Aryabhata: 6,
              brahmagupta: 7,
              khuwarizmi: 8,
              omar: 9,
              bhaskara: 10,
              madhava: 11,
            }
            const UnlockWithTornado = {
              AutoPrestige: 0,
              AutoOmegaPrestige: 1,
              Challenge: 2,
              Challenge_Drain: 3,
              Challenge_drunk: 4,
              Challenge_noRebirth: 5,
              Challenge_gluttony: 6,
              Challenge_sinkhole: 7,
              Enemy_PI: 8,
              Enemy_Gamma: 9,
              Enemy_Napier: 10,
              Challenge_Flower: 11,
              Exponent_A: 12,
              Challenge_Slow: 13,
              Z_boolster: 14,
              Challenge_Straight: 15,
              NewSigma: 16,
              Challenge_Poor: 17,
              Equation: 18,
              critical: 19,
              m: 20,
              integral: 21,
              Challenge_sphere: 22,
              new_battle_upgrade: 23,
              z_reactor_c: 24,
              z_reactor_cx: 25,
              Enemy_penta: 26,
              Challenge_fury: 27,
              new_battle_upgrade_2: 28,
            }
            const RewardType = {
              hp: 0,
              atk: 1,
              def: 2,
              a: 3,
              b: 4,
              c: 5,
              d: 6,
              e: 7,
              k: 8,
              regene: 9,
              critical: 10,
              criticalDamage: 11,
              a_mul: 12,
              b_mul: 13,
              c_mul: 14,
              d_mul: 15,
              e_mul: 16,
              k_mul: 17,
              hp_mul: 18,
              atk_mul: 19,
              def_mul: 20,
              n: 21,
              v: 22,
              gamma: 23,
              delta: 24,
              Omega: 25,
              attackSpeed: 26,
              gamma_mul: 27,
              delta_mul: 28,
              Omega_mul: 29,
              exp: 30,
              rare_chance: 31,
              super_critical: 32,
              super_criticalDamage: 33,
              math_skill: 34,
              other: 35,
              enemy_hp_reduction: 36,
              regene_resting: 37,
              maxlevelup_no_24: 38,
              unlock: 39,
              inspiration: 40,
              math_core: 41,
              inverse_core: 42,
              hp2_mul: 43,
              atk2_mul: 44,
              def2_mul: 45,
            }
            const ReactorKind = {
              r: 0,
              lineRenderer: 1,
              equation: 2,
              battle_stats: 3,
              crit: 4,
              s_crit: 5,
            }
            const ParametersKind = {
              largeA: "largeA",
              a: "a",
              b: "b",
              c: "c",
              d: "d",
              e: "e",
              f: "f",
              g: "g",
              k: "k",
              p: "p",
              q: "q",
              n: "n",
              sigmaA: "sigmaA",
              omega: "omega",
              omegaExponent: "omegaExponent",
              alpha: "alpha",
              m: "m",
              beta: "beta",
              Omega: "Omega",
              gamma: "gamma",
              delta: "delta",
              prestigepoint_denominator: "prestigepoint_denominator",
              prestige_level_limit: "prestige_level_limit",
              tornado_cost_reduction: "tornado_cost_reduction",
              cubic_root: "cubic_root",
              logarithm_base: "logarithm_base",
              softPrestigeSkip: "softPrestigeSkip",
              automation_interval: "automation_interval",
              atk: "atk",
              hp: "hp",
              regene: "regene",
              regene_while_resting: "regene_while_resting",
              critical: "critical",
              criticalDamage: "criticalDamage",
              def: "def",
              block: "block",
              deltap: "deltap",
              attack_speed: "attack_speed",
              reward_atk: "reward_atk",
              reward_def: "reward_def",
              reward_hp: "reward_hp",
              reward_exp: "reward_exp",
              enemy_hp_reduction_add: "enemy_hp_reduction_add",
              reward_hp_mul: "reward_hp_mul",
              reward_def_mul: "reward_def_mul",
              reward_exp_mul: "reward_exp_mul",
              reward_atk_mul: "reward_atk_mul",
              battle_upgrade_max_level: "battle_upgrade_max_level",
              rare_drop: "rare_drop",
              super_critical: "super_critical",
              super_critical_damage: "super_critical_damage",
              battle_upgrade_cost: "battle_upgrade_cost",
              math: "math",
              multiattack: "multiattack",
              enemy_growth_reduction: "enemy_growth_reduction",
              atk_and_def_from_pi: "atk_and_def_from_pi",
              exp_from_gamma: "exp_from_gamma",
              s_critical_from_napier: "s_critical_from_napier",
              battle_upgrade_max_level_2: "battle_upgrade_max_level_2",
              reward_mathSkill: "reward_mathSkill",
              raid_boss_damage: "raid_boss_damage",
              raid_boss_time: "raid_boss_time",
              line_number_multiplier: "line_number_multiplier",
              equation_speed: "equation_speed",
              z_reactor_exp: "z_reactor_exp",
              r_reactor_cap: "r_reactor_cap",
              equation_slot: "equation_slot",
              spiralPointFromTornadoPrestige: "spiralPointFromTornadoPrestige",
              inspiration: "inspiration",

              delta_r: "delta_r",
            }
            const UpgradeKind = {
              a: 0,
              b: 1,
              c: 2,
              d: 3,
              e: 4,
              f: 5,
              g: 6,
              ae11: 7,
              logk: 8,
              beMul: 9,
              k: 10,

              parmA: 11,
              parmB: 12,
              parmC: 13,
              parmD: 14,
              parmE: 15,
              parmF: 16,
              parmG: 17,
              parmK: 18,
              prestigepoint_denominator: 19,
              exponentK: 20,
              u: 21,
              v: 22,
              n: 23,
              // omegaUpgradeIncrement
              // doubleA
              Omega: 24,
              gamma: 25,
              delta: 26,

              z_multiplier: 27,
              a_mul: 28,
              b_mul: 29,
              c_mul: 30,
              d_mul: 31,
              e_mul: 32,
              f_mul: 33,
              g_mul: 34,
              rAll: 35,
              m: 36,
              alpha: 37,
              beta: 38,
            }
            const VariableUpgradeKind = {
              k: 0,
              a: 1,
              b: 2,
              c: 3,
              d: 4,
              e: 5,
              f: 6,
              g: 7,
              atk: 8,
              def: 9,
            }

            // Rendering
            this.updateFunctions = [];
            this.addUpdateFunction = function ( func ) {
              this.updateFunctions.push(func);
            }
            this.update = function ( ) {
              $('.update_display').each(function() {
                var classes = $(this).attr('class').split(' ');
                for ( var i = 0; i < classes.length; i++ ) {
                  if ( classes[i].indexOf('display_') == 0 ) {
                    var name = classes[i].substring(8);
                    $(this).text(idlespiral.evaluate(name));
                    break;
                  }
                  if ( classes[i].indexOf('battle_reward_') == 0 ) {
                    var name = classes[i].substring(14);
                    $(this).text(idlespiral.dto.battle_rewards[RewardType[name]]);
                    break;
                  }
                }
              });

              for (var func of this.updateFunctions)
                func(this);
            }

            // Effects
            this.effects = {};
            this.addEffect = function ( name, target, type, value ) {
              if ( this.effects[name] )
                throw "Effect already exists: " + name;
              this.effects[name] = new Effect(name, target, type, value);
            }
            this.addBaseValue = function ( name, value ) {
              this.addEffect("Init " + name, name, "base", () => value);
            }
            this.getEffects = function ( name, prefix = "" ) {
              var effects = {
                "base": [],
                "add": [],
                "mul": [],
                "indep": [],
                "exp": [],
              };

              for ( var effect in this.effects )
                if ( this.effects[effect].target == name && this.effects[effect].name.indexOf(prefix) == 0 )
                  effects[this.effects[effect].type].push(this.effects[effect]);

              return effects;
            }
            this.cache = {};
            this.evaluate = function ( name ) {
              if ( this.cache[name] )
                return this.cache[name];

              var effects = this.getEffects(name);

              var value = 0;
              if ( effects["base"].length > 1 )
                throw "Multiple base effects for " + name;
              if ( effects["base"].length == 1 )
                value = effects["base"][0].value();
              for ( var effect of effects["add"] )
                value += effect.value();
              for ( var effect of effects["mul"] )
                value *= effect.value();
              for ( var effect of effects["indep"] )
                value += effect.value();
              for ( var effect of effects["exp"] )
                value **= effect.value();

              if ( value != value ) {
                console.log(`${name} is NaN`);
                console.log(effects);
              }

              this.cache[name] = value;
              return value;
            }
            this.debug_evaluate = function ( name ) {
              var effects = this.getEffects(name);
              console.log(`Evaluating ${name}`);
              console.log(effects);

              var value = 0;
              if ( effects["base"].length > 1 )
                throw "Multiple base effects for " + name;
              if ( effects["base"].length == 1 ) {
                console.log("Base effect;");
                console.log(effects["base"][0]);
                value = effects["base"][0].value();
                console.log(value);
              }
              for ( var effect of effects["add"] ) {
                console.log("Add effect;");
                console.log(effect);
                value += effect.value();
                console.log(value);
              }
              for ( var effect of effects["mul"] ) {
                console.log("Mul effect;");
                console.log(effect);
                value *= effect.value();
                console.log(value);
              }
              for ( var effect of effects["indep"] ) {
                console.log("Indep effect;");
                console.log(effect);
                value += effect.value();
                console.log(value);
              }
              for ( var effect of effects["exp"] ) {
                console.log("Exp effect;");
                console.log(effect);
                value **= effect.value();
                console.log(value);
              }

              if ( value != value ) {
                console.log(`${name} is NaN`);
                console.log(effects);
              }
              return value;
            }

            this.init = function ( dto ) {
              this.dto = dto;
              console.log(dto)

              // Domain / Battle / BattleReward / BattleRewardContainer
              this.addEffect("Battle reward a", ParametersKind.a, "add", () => this.dto.battle_rewards[RewardType.a] ?? 0);
              this.addEffect("Battle reward b", ParametersKind.b, "add", () => this.dto.battle_rewards[RewardType.b] ?? 0);
              this.addEffect("Battle reward c", ParametersKind.c, "add", () => this.dto.battle_rewards[RewardType.c] ?? 0);
              this.addEffect("Battle reward d", ParametersKind.d, "add", () => this.dto.battle_rewards[RewardType.d] ?? 0);
              this.addEffect("Battle reward e", ParametersKind.e, "add", () => this.dto.battle_rewards[RewardType.e] ?? 0);
              this.addEffect("Battle reward k", ParametersKind.k, "add", () => this.dto.battle_rewards[RewardType.k] ?? 0);
              this.addEffect("Battle reward atk", ParametersKind.atk, "add", () => this.dto.battle_rewards[RewardType.atk] ?? 0);
              this.addEffect("Battle reward def", ParametersKind.def, "add", () => this.dto.battle_rewards[RewardType.def] ?? 0);
              this.addEffect("Battle reward hp", ParametersKind.hp, "add", () => this.dto.battle_rewards[RewardType.hp] ?? 0);

              this.addEffect("Battle reward atk2%", ParametersKind.atk, "mul", () => 1 + (this.dto.battle_rewards[RewardType.atk2_mul] ?? 0));
              this.addEffect("Battle reward def2%", ParametersKind.def, "mul", () => 1 + (this.dto.battle_rewards[RewardType.def2_mul] ?? 0));
              this.addEffect("Battle reward hp2%", ParametersKind.hp, "mul", () => 1 + (this.dto.battle_rewards[RewardType.hp2_mul] ?? 0));

              this.addEffect("Battle reward regene", ParametersKind.regene, "add", () => this.dto.battle_rewards[RewardType.regene] ?? 0);
              this.addEffect("Battle reward critical", ParametersKind.critical, "add", () => this.dto.battle_rewards[RewardType.critical] ?? 0);
              this.addEffect("Battle reward criticalDamage", ParametersKind.criticalDamage, "mul", () => 1 + (this.dto.battle_rewards[RewardType.criticalDamage] ?? 0));
              this.addEffect("Battle reward gamma", ParametersKind.gamma, "add", () => this.dto.battle_rewards[RewardType.gamma] ?? 0);
              this.addEffect("Battle reward delta", ParametersKind.delta, "add", () => this.dto.battle_rewards[RewardType.delta] ?? 0);
              this.addEffect("Battle reward Omega", ParametersKind.Omega, "add", () => this.dto.battle_rewards[RewardType.Omega] ?? 0);
              this.addEffect("Battle reward super_critical", ParametersKind.super_critical, "add", () => this.dto.battle_rewards[RewardType.super_critical] ?? 0);
              this.addEffect("Battle reward super_criticalDamage", ParametersKind.super_criticalDamage, "mul", () => 1 + (this.dto.battle_rewards[RewardType.super_criticalDamage] ?? 0));
              this.addEffect("Battle reward super_critical threshold", ParametersKind.super_critical, "add", () => (this.dto.battle_rewards[RewardType.super_criticalDamage] ?? 0) > 5 ? 0.01 : 0);
              this.addEffect("Battle reward inspiration", ParametersKind.inspiration, "add", () => this.dto.battle_rewards[RewardType.inspiration] ?? 0);

              this.addEffect("Battle reward a%", ParametersKind.a, "mul", () => 1 + (this.dto.battle_rewards[RewardType.a_mul] ?? 0));
              this.addEffect("Battle reward b%", ParametersKind.b, "mul", () => 1 + (this.dto.battle_rewards[RewardType.b_mul] ?? 0));
              this.addEffect("Battle reward c%", ParametersKind.c, "mul", () => 1 + (this.dto.battle_rewards[RewardType.c_mul] ?? 0));
              this.addEffect("Battle reward d%", ParametersKind.d, "mul", () => 1 + (this.dto.battle_rewards[RewardType.d_mul] ?? 0));
              this.addEffect("Battle reward e%", ParametersKind.e, "mul", () => 1 + (this.dto.battle_rewards[RewardType.e_mul] ?? 0));
              this.addEffect("Battle reward k%", ParametersKind.k, "mul", () => 1 + (this.dto.battle_rewards[RewardType.k_mul] ?? 0));
              this.addEffect("Battle reward hp%", ParametersKind.hp, "mul", () => 1 + (this.dto.battle_rewards[RewardType.hp_mul] ?? 0));
              this.addEffect("Battle reward atk%", ParametersKind.atk, "mul", () => 1 + (this.dto.battle_rewards[RewardType.atk_mul] ?? 0));
              this.addEffect("Battle reward def%", ParametersKind.def, "mul", () => 1 + (this.dto.battle_rewards[RewardType.def_mul] ?? 0));
              this.addEffect("Battle reward gamma%", ParametersKind.gamma, "mul", () => 1 + (this.dto.battle_rewards[RewardType.gamma_mul] ?? 0));
              this.addEffect("Battle reward delta%", ParametersKind.delta, "mul", () => 1 + (this.dto.battle_rewards[RewardType.delta_mul] ?? 0));
              this.addEffect("Battle reward Omega%", ParametersKind.Omega, "mul", () => 1 + (this.dto.battle_rewards[RewardType.Omega_mul] ?? 0));
              this.addEffect("Battle reward attack speed", ParametersKind.attack_speed, "mul", () => diminishedAttackSpeed((this.dto.battle_rewards[RewardType.attackSpeed] ?? 0)));
              this.addEffect("Battle reward rare drop", ParametersKind.rare_drop, "mul", () => diminishedRareChance((this.dto.battle_rewards[RewardType.rare_chance] ?? 0)));
              this.addEffect("Battle reward math skill", ParametersKind.math, "add", () => this.dto.battle_rewards[RewardType.math_skill] ?? 0);
              this.addEffect("Battle reward enemy growth reduction", ParametersKind.enemy_growth_reduction, "mul", () => decay(this.dto.battle_rewards[RewardType.math_skill] ?? 0));

              // Domain / Battle / BattleUpgrades
              this.addEffect("Battle upgrade HP +1%", ParametersKind.hp, "mul", () => 1 + 0.01 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.hp_mul_1] ?? 0));
              this.addEffect("Battle upgrade ATK +1%", ParametersKind.atk, "mul", () => 1 + 0.01 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.atk_mul_1] ?? 0));
              this.addEffect("Battle upgrade DEF +1%", ParametersKind.def, "mul", () => 1 + 0.01 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.def_mul_1] ?? 0));
              this.addEffect("Battle upgrade Regenerate +1%", ParametersKind.regene, "mul", () => 1 + 0.01 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.regene_mul_1] ?? 0));
              this.addEffect("Battle upgrade Reward HP +1", ParametersKind.reward_hp, "add", () => (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_hp_1] ?? 0));
              this.addEffect("Battle upgrade Reward ATK +1", ParametersKind.reward_atk, "add", () => (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_atk_1] ?? 0));
              this.addEffect("Battle upgrade Reward DEF +1", ParametersKind.reward_def, "add", () => (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_def_1] ?? 0));
              this.addEffect("Battle upgrade Critical +0.1%", ParametersKind.critical, "indep", () => 0.001 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.critical_indep_01] ?? 0));
              this.addEffect("Battle upgrade Critical Damage +1%", ParametersKind.criticalDamage, "mul", () => 1 + 0.01 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.criticalDamage_mul_1] ?? 0));
              this.addEffect("Battle upgrade Reward EXP +1", ParametersKind.reward_exp, "add", () => this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_exp_1] ?? 0);
              this.addEffect("Battle upgrade Enemy HP Reduction +1%", ParametersKind.enemy_hp_reduction_add, "add", () => -0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.enemy_hp_reduction_add_1] ?? 0));
              this.addEffect("Battle upgrade Regenerate While Resting +1%", ParametersKind.regene_while_resting, "mul", () => 1 + 0.01 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.regene_while_resting_mul_1] ?? 0));
              this.addEffect("Battle upgrade Attack Speed +0.1%", ParametersKind.attack_speed, "mul", () => 1 + 0.001 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.attackSpeed_mul_01] ?? 0));
              this.addEffect("Battle upgrade HP +5%", ParametersKind.hp, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.hp_mul_5] ?? 0));
              this.addEffect("Battle upgrade ATK +5%", ParametersKind.atk, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.atk_mul_5] ?? 0));
              this.addEffect("Battle upgrade DEF +5%", ParametersKind.def, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.def_mul_5] ?? 0));
              this.addEffect("Battle upgrade Regenerate +5%", ParametersKind.regene, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.regene_mul_5] ?? 0));
              this.addEffect("Battle upgrade Reward HP +5%", ParametersKind.reward_hp, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_hp_mul_5] ?? 0));
              this.addEffect("Battle upgrade Reward ATK +5%", ParametersKind.reward_atk, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_atk_mul_5] ?? 0));
              this.addEffect("Battle upgrade Reward DEF +5%", ParametersKind.reward_def, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_def_mul_5] ?? 0));
              this.addEffect("Battle upgrade Reward EXP +5%", ParametersKind.reward_exp, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_exp_mul_5] ?? 0));
              this.addEffect("Battle upgrade Critical +0.2%", ParametersKind.critical, "indep", () => 0.002 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.critical_indep_02] ?? 0));
              this.addEffect("Battle upgrade Critical Damage +5%", ParametersKind.criticalDamage, "mul", () => 1 + 0.05 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.criticalDamage_mul_5] ?? 0));
              this.addEffect("Battle upgrade Attack Speed +0.5%", ParametersKind.attack_speed, "mul", () => 1 + 0.005 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.attack_speed_mul_05] ?? 0));
              this.addEffect("Battle upgrade Max Level +1", ParametersKind.battle_upgrade_max_level, "add", () => this.dto.battle_upgrade_levels[BattleUpgradesKind.maxlevelup_no_24] ?? 0);

              // unlock_khuwarizmi
              // unlock_omar
              // unlock_bhaskara
              // unlock_madhava

              this.addEffect("Battle upgrade ATK and DEF from PI", ParametersKind.atk_and_def_from_pi, "add", () => this.dto.battle_upgrade_levels[BattleUpgradesKind.atk_and_def_from_pi] ?? 0);
              this.addEffect("Battle upgrade EXP from Gamma", ParametersKind.exp_from_gamma, "add", () => this.dto.battle_upgrade_levels[BattleUpgradesKind.exp_from_gamma] ?? 0);
              this.addEffect("Battle upgrade S-Critical Damage from Napier", ParametersKind.s_critical_from_napier, "add", () => this.dto.battle_upgrade_levels[BattleUpgradesKind.s_critical_from_napier] ?? 0);

              this.addEffect("Battle upgrade Math Skill", ParametersKind.math, "add", () => 100 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.math_skill_100] ?? 0));
              this.addEffect("Battle upgrade HP +10%", ParametersKind.hp, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.hp_mul_10] ?? 0));
              this.addEffect("Battle upgrade ATK +10%", ParametersKind.atk, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.atk_mul_10] ?? 0));
              this.addEffect("Battle upgrade DEF +10%", ParametersKind.def, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.def_mul_10] ?? 0));
              this.addEffect("Battle upgrade Reward HP +10%", ParametersKind.reward_hp, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_hp_mul_10] ?? 0));
              this.addEffect("Battle upgrade Reward ATK +10%", ParametersKind.reward_atk, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_atk_mul_10] ?? 0));
              this.addEffect("Battle upgrade Reward DEF +10%", ParametersKind.reward_def, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_def_mul_10] ?? 0));
              this.addEffect("Battle upgrade Reward EXP +10%", ParametersKind.reward_exp, "mul", () => 1 + 0.1 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.reward_exp_mul_10] ?? 0));
              this.addEffect("Battle upgrade Rare Drop +0.1%", ParametersKind.rare_drop, "mul", () => 1 + 0.001 * (this.dto.battle_upgrade_levels[BattleUpgradesKind.rare_drop_mul_01] ?? 0));
              this.addEffect("Battle upgrade Max Level 2 +1", ParametersKind.battle_upgrade_max_level_2, "add", () => this.dto.battle_upgrade_levels[BattleUpgradesKind.maxlevelup_no_41] ?? 0);

              // Domain / Theory / TheoryContainer

              // TODO

              // Domain / Z_reactor / ReactorContainer

              this.addEffect("Reactor r active", ParametersKind.delta_r, "mul", () => 1 + 0.01 * (this.dto.reactor_values[ReactorKind.r] ?? 0));
              this.addEffect("Reactor r passive", ParametersKind.delta_r, "mul", () => {
                if ( (this.dto.reactor_levels[ReactorKind.r] ?? 0) >= 1000 )
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.r] ?? 0) + 0.00005 * ((this.dto.reactor_levels[ReactorKind.r] ?? 0) - 1000);
                else
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.r] ?? 0);
              });

              this.addEffect("Reactor lineRenderer active", ParametersKind.line_number_multiplier, "mul", () => 1 + 0.01 * ((this.dto.reactor_values[ReactorKind.lineRenderer] ?? 0) ** 1.8) / 25000);
              this.addEffect("Reactor lineRenderer passive", ParametersKind.line_number_multiplier, "mul", () => {
                if ( (this.dto.reactor_levels[ReactorKind.lineRenderer] ?? 0) >= 1000 )
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.lineRenderer] ?? 0) + 0.0005 * ((this.dto.reactor_levels[ReactorKind.lineRenderer] ?? 0) - 1000);
                else
                  return 1 + 0.05 * (this.dto.reactor_levels[ReactorKind.lineRenderer] ?? 0);
              });

              this.addEffect("Reactor equation active", ParametersKind.equation_speed, "mul", () => 1 + 0.01 * ((this.dto.reactor_values[ReactorKind.equation] ?? 0) ** 1.5) / 20000);
              this.addEffect("Reactor equation passive", ParametersKind.equation_speed, "mul", () => {
                if ( (this.dto.reactor_levels[ReactorKind.equation] ?? 0) >= 1000 )
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.equation] ?? 0) + 0.00025 * ((this.dto.reactor_levels[ReactorKind.equation] ?? 0) - 1000);
                else
                  return 1 + 0.025 * (this.dto.reactor_levels[ReactorKind.equation] ?? 0);
              });

              this.addEffect("Reactor battle_stats active hp", ParametersKind.hp, "mul", () => 1 + 0.01 * ((this.dto.reactor_values[ReactorKind.battle_stats] ?? 0) ** 3) / 1e14);
              this.addEffect("Reactor battle_stats active atk", ParametersKind.atk, "mul", () => 1 + 0.01 * ((this.dto.reactor_values[ReactorKind.battle_stats] ?? 0) ** 3) / 1e14);
              this.addEffect("Reactor battle_stats active def", ParametersKind.def, "mul", () => 1 + 0.01 * ((this.dto.reactor_values[ReactorKind.battle_stats] ?? 0) ** 3) / 1e14);
              this.addEffect("Reactor battle_stats passive hp", ParametersKind.hp, "mul", () => {
                if ( (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) >= 1000 )
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) + 0.0005 * ((this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) - 1000);
                else
                  return 1 + 0.05 * (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0);
              });
              this.addEffect("Reactor battle_stats passive atk", ParametersKind.atk, "mul", () => {
                if ( (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) >= 1000 )
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) + 0.0005 * ((this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) - 1000);
                else
                  return 1 + 0.05 * (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0);
              });
              this.addEffect("Reactor battle_stats passive def", ParametersKind.def, "mul", () => {
                if ( (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) >= 1000 )
                  return 1 + 0.005 * (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) + 0.0005 * ((this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0) - 1000);
                else
                  return 1 + 0.05 * (this.dto.reactor_levels[ReactorKind.battle_stats] ?? 0);
              });

              this.addEffect("Reactor crit active", ParametersKind.critical, "indep", () => 0.01 * SigmaSum(Math.floor((this.dto.reactor_values[ReactorKind.crit] ?? 0) / 1e9)));
              this.addEffect("Reactor crit passive", ParametersKind.critical, "indep", () => {
                if ( (this.dto.reactor_levels[ReactorKind.crit] ?? 0) >= 1000 )
                  return 0.000005 * (this.dto.reactor_levels[ReactorKind.crit] ?? 0) + 0.00005 * (this.dto.reactor_levels[ReactorKind.crit] ?? 0);
                else
                  return 0.00005 * (this.dto.reactor_levels[ReactorKind.crit] ?? 0);
              });

              this.addEffect("Reactor super_critical active", ParametersKind.super_critical, "indep", () => 0.01 * Math.floor((this.dto.reactor_values[ReactorKind.s_crit] ?? 0) / 2e16));
              this.addEffect("Reactor super_critical passive", ParametersKind.super_critical, "indep", () => {
                if ( (this.dto.reactor_levels[ReactorKind.s_crit] ?? 0) >= 1000 )
                  return 0.000005 * (this.dto.reactor_levels[ReactorKind.s_crit] ?? 0) + 0.00005 * (this.dto.reactor_levels[ReactorKind.s_crit] ?? 0);
                else
                  return 0.00005 * (this.dto.reactor_levels[ReactorKind.s_crit] ?? 0);
              });

              // Domain / Challenge / ChallengeContainer
              this.addEffect("Challenge SlowSpiral First Clear Reward", "softPrestigeSkip", "add", () => (this.dto.challengeLevels[ChallengeKind.SlowSpiral] ?? 0) >= 1 ? 1 : 0);
              this.addEffect("Challenge SinSpiral First Clear Reward", "softPrestigeSkip", "add", () => (this.dto.challengeLevels[ChallengeKind.SinSpiral] ?? 0) >= 1 ? 1 : 0);
              this.addEffect("Challenge StraightLine First Clear Reward", "softPrestigeSkip", "add", () => (this.dto.challengeLevels[ChallengeKind.StraightLine] ?? 0) >= 1 ? 1 : 0);
              this.addEffect("Challenge drain First Clear Reward", "softPrestigeSkip", "add", () => (this.dto.challengeLevels[ChallengeKind.drain] ?? 0) >= 1 ? 1 : 0);
              this.addEffect("Challenge poorMath First Clear Reward", "softPrestigeSkip", "add", () => (this.dto.challengeLevels[ChallengeKind.poorMath] ?? 0) >= 1 ? 1 : 0);

              this.addEffect("Challenge basic Reward", "delta_r", "mul", () => 1 + 0.5 * (this.dto.challengeLevels[ChallengeKind.basic] ?? 0));
              this.addEffect("Challenge SlowSpiral Reward", "omega", "mul", () => 1 + 0.1 * (this.dto.challengeLevels[ChallengeKind.SlowSpiral] ?? 0));
              this.addEffect("Challenge SinSpiral Reward", "prestige_level_limit", "add", () => this.dto.challengeLevels[ChallengeKind.SinSpiral] ?? 0);
              this.addEffect("Challenge StraightLine Reward", "k", "mul", () => 1 + (this.dto.challengeLevels[ChallengeKind.StraightLine] ?? 0));
              this.addEffect("Challenge drain Reward", "tornado_cost_reduction", "add", () => -0.1 * (this.dto.challengeLevels[ChallengeKind.drain] ?? 0));

              this.addEffect("Challenge poorMath Reward", "delta_r", "mul", () => {
                var value = 1;
                if ((this.dto.challengeLevels[ChallengeKind.poorMath] ?? 0) >= 1) {
                  value *= this.evaluate("a");
                  value *= this.evaluate("b");
                  value *= this.evaluate("c");
                }
                if ((this.dto.challengeLevels[ChallengeKind.poorMath] ?? 0) >= 2)
                  value *= this.evaluate("d");
                if ((this.dto.challengeLevels[ChallengeKind.poorMath] ?? 0) >= 3)
                  value *= this.evaluate("e");
                if ((this.dto.challengeLevels[ChallengeKind.poorMath] ?? 0) >= 4)
                  value *= this.evaluate("f");
                if ((this.dto.challengeLevels[ChallengeKind.poorMath] ?? 0) >= 5)
                  value *= this.evaluate("g");

                return value ** (1/11);
              });
              this.addEffect("Challenge no_rebirth Reward", ParametersKind.automation_interval, "mul", () => 0.5 ** (this.dto.challengeLevels[ChallengeKind.no_rebirth] ?? 0));
              this.addEffect("Challenge drunk Reward", ParametersKind.omegaExponent, "add", () => 0.1 * (this.dto.challengeLevels[ChallengeKind.drunk] ?? 0));
              this.addEffect("Challenge gluttony Reward atk", ParametersKind.atk, "mul", () => 1 + 0.2 * (this.dto.challengeLevels[ChallengeKind.gluttony] ?? 0));
              this.addEffect("Challenge gluttony Reward hp", ParametersKind.hp, "mul", () => 1 + 0.2 * (this.dto.challengeLevels[ChallengeKind.gluttony] ?? 0));
              this.addEffect("Challenge gluttony Reward def", ParametersKind.def, "mul", () => 1 + 0.2 * (this.dto.challengeLevels[ChallengeKind.gluttony] ?? 0));
              this.addEffect("Challenge sinkhole Reward", ParametersKind.delta_r, "mul", () => 1 + Math.log((this.dto.timeSinceOmegaPrestige ?? 0) / 13 + 1) / Math.log(10 - (this.dto.challengeLevels[ChallengeKind.sinkhole] ?? 0)));
              this.addEffect("Challenge sphere Reward z_reactor_exp", ParametersKind.z_reactor_exp, "mul", () => 1 + ((this.dto.challengeLevels[ChallengeKind.sphere] ?? 0) >= 1));
              this.addEffect("Challenge sphere Reward z_reactor_cap", ParametersKind.z_reactor_cap, "mul", () => 1 + 0.05 * (this.dto.challengeLevels[ChallengeKind.sphere] ?? 0));
              this.addEffect("Challenge fury Reward enemy_growth_reduction", ParametersKind.enemy_growth_reduction, "mul", () => 0.95 ** (this.dto.challengeLevels[ChallengeKind.fury] ?? 0));
              this.addEffect("Challenge fury Reward multiattack", ParametersKind.multiattack, "add", () => (this.dto.challengeLevels[ChallengeKind.fury] ?? 0) >= 6 ? 2 : 0);
              this.addEffect("Challenge lava Reward equation_slot", ParametersKind.equation_slot, "add", () => (this.dto.challengeLevels[ChallengeKind.lava] ?? 0) >= 1 ? 1 : 0);
              this.addEffect("Challenge lava Reward raid_boss_damage", ParametersKind.raid_boss_damage, "mul", () => 1 + 0.25 * (this.dto.challengeLevels[ChallengeKind.lava] ?? 0));







              // Parameter
              this.addBaseValue("a", 1);
              this.addBaseValue("b", 1);
              this.addBaseValue("c", 1);
              this.addBaseValue("d", 1);
              this.addBaseValue("e", 1);
              this.addBaseValue("f", 1);
              this.addBaseValue("g", 1);
              this.addBaseValue("u", 1);
              this.addBaseValue("n", 1);
              this.addBaseValue("m", 1);
              this.addBaseValue("omegaExponent", 1);
              this.addBaseValue("gamma", 0.1);
              this.addBaseValue("alpha", 1);
              this.addBaseValue("beta", 1);
              this.addBaseValue("cubit_root", 3);
              this.addBaseValue("logarithm_base", 100);
              this.addBaseValue("prestigePoint_denominator", 1e5);
              this.addBaseValue("tornado_cost_reduction", 1);
              this.addBaseValue("automation_interval", 1);

              this.addBaseValue("atk", 10);
              this.addBaseValue("hp", 100);
              this.addBaseValue("def", 1);
              this.addBaseValue("deltap", 1);
              this.addBaseValue("regene_while_resting", 1);
              this.addBaseValue("critical", 0.05);
              this.addBaseValue("criticalDamage", 2);
              this.addBaseValue("attack_speed", 1);
              this.addBaseValue("enemy_hp_reduction_add", 100);
              this.addBaseValue("reward_atk_mul", 1);
              this.addBaseValue("reward_def_mul", 1);
              this.addBaseValue("reward_hp_mul", 1);
              this.addBaseValue("reward_exp_mul", 1);
              this.addBaseValue("rare_drop", 1);
              this.addBaseValue("super_critical_damage", 5);
              this.addBaseValue("battle_upgrade_cost", 1);
              this.addBaseValue("enemy_growth_reduction", 1);

              this.addBaseValue("line_number_multiplier", 1);
              this.addBaseValue("equation_speed", 1);
              this.addBaseValue("z_reactor_exp", 1);
              this.addBaseValue("z_reactor_cap", 1);
              this.addBaseValue("spiralPointFromTornadoPrestige", 1);

              // Currency / ReccurenceMultiplier
              this.addEffect("Formula integral", "integral", "base", () => {
                var alpha = this.evaluate("alpha");
                var beta = this.evaluate("beta");
                var integral = 2 * alpha ** (beta + 1) / (beta + 1);
                return integral;
              });
              this.addEffect("Base sigmaA", "sigmaA", "base", () => {
                var u = this.evaluate("u");
                var v = this.evaluate("v");
                var n = this.evaluate("n");
                var A = this.evaluate("largeA");
                var integral = this.evaluate("integral");

                if ( n == 1 )
                  return A;

                var Ai = A;
                var sum = Ai;
                for ( var i = 1; i < n; i++ ) {
                  Ai = integral * u * Ai + v;
                  sum += Ai;
                }

                return sum;
              });

              // Currency / DistanceMultiplier
              this.addEffect("Base largeA", "largeA", "base", () => {
                var a = this.evaluate("a");
                var b = this.evaluate("b");
                var c = this.evaluate("c");
                var d = this.evaluate("d");
                var e = this.evaluate("e");
                var f = this.evaluate("f");
                var g = this.evaluate("g");
                if ( this.currentChallengeKind == ChallengeKind.poorMath )
                  return a + b + c + d + e + f + g;
                else
                  return a * b * c * d * e * f * g;
              });

              this.addEffect("Base delta_r", "delta_r", "base", () => {
                var m = this.evaluate("m");
                var sigmaA = this.evaluate("sigmaA");
                var omega = this.evaluate("omega");
                var omegaExponent = this.evaluate("omegaExponent");
                var k = this.evaluate("k");
                return m * sigmaA * omega ** omegaExponent + k;
              });

              this.addEffect("Line Number Multiplier", "delta_r", "mul", () => 1 + ((5 /*lines*/) - 1) * 0.1 * this.evaluate("line_number_multiplier"));

              // SoftPrestige
              this.addEffect("omega Prestige omegaExponent", "omegaExponent", "add", () => (this.omegaPrestigeLevel ?? 0));
              this.addEffect("Base omega", "omega", "base", () => 1.25 ** (this.omegaPrestigeLevel ?? 0));

              // UpgradeContainer
              this.addEffect("r upgrade k", "k", "add", () => (this.dto.upgradeLevels[UpgradeKind.k] ?? 0));
              this.addEffect("r upgrade a", "a", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.a]);
              this.addEffect("r upgrade b", "b", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.b]);
              this.addEffect("r upgrade c", "c", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.c]);
              this.addEffect("r upgrade d", "d", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.d]);
              this.addEffect("r upgrade e", "e", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.e]);
              this.addEffect("r upgrade ae11 a", "a", "mul", () => 1 + 0.01 * this.dto.upgradeLevels[UpgradeKind.ae11]);
              this.addEffect("r upgrade ae11 b", "b", "mul", () => 1 + 0.01 * this.dto.upgradeLevels[UpgradeKind.ae11]);
              this.addEffect("r upgrade ae11 c", "c", "mul", () => 1 + 0.01 * this.dto.upgradeLevels[UpgradeKind.ae11]);
              this.addEffect("r upgrade ae11 d", "d", "mul", () => 1 + 0.01 * this.dto.upgradeLevels[UpgradeKind.ae11]);
              this.addEffect("r upgrade ae11 e", "e", "mul", () => 1 + 0.01 * this.dto.upgradeLevels[UpgradeKind.ae11]);
              this.addEffect("r upgrade logk", "a", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.logk] * Math.log10(this.evaluate("k") + 1));
              this.addEffect("r upgrade f", "f", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.f]);
              this.addEffect("r upgrade g", "g", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.g]);
              this.addEffect("r upgrade beMul passive", "a", "mul", () => (this.evaluate("b") + this.evaluate("c") + this.evaluate("d") + this.evaluate("e") + this.evaluate("f") + this.evaluate("g")) / 6.0);
              this.addEffect("r upgrade beMul active", "a", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.beMul]);
              this.addEffect("r upgrade rAll passive", "delta_r", "mul", () => 1 + (this.dto.upgradeLevels[UpgradeKind.k] + this.dto.upgradeLevels[UpgradeKind.a] + this.dto.upgradeLevels[UpgradeKind.b] + this.dto.upgradeLevels[UpgradeKind.c] + this.dto.upgradeLevels[UpgradeKind.d] + this.dto.upgradeLevels[UpgradeKind.e] + this.dto.upgradeLevels[UpgradeKind.ae11] + this.dto.upgradeLevels[UpgradeKind.logk] + this.dto.upgradeLevels[UpgradeKind.f] + this.dto.upgradeLevels[UpgradeKind.g] + this.dto.upgradeLevels[UpgradeKind.beMul] + this.dto.upgradeLevels[UpgradeKind.rAll]) / 10000);
              this.addEffect("r upgrade rAll active", "delta_r", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.rAll]);

              this.addEffect("p upgrade n", "n", "add", () => this.dto.upgradeLevels[UpgradeKind.n]);
              this.addEffect("p upgrade v", "v", "add", () => 10 * this.dto.upgradeLevels[UpgradeKind.v]);
              this.addEffect("p upgrade u", "u", "add", () => this.dto.upgradeLevels[UpgradeKind.u]);
              this.addEffect("p upgrade parmA", "a", "add", () => this.dto.upgradeLevels[UpgradeKind.parmA]);
              this.addEffect("p upgrade parmK", "k", "add", () => 10 * this.dto.upgradeLevels[UpgradeKind.parmK]);
              this.addEffect("p upgrade parmB", "b", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.parmB]);
              this.addEffect("p upgrade parmC", "c", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.parmC]);
              this.addEffect("p upgrade parmD", "d", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.parmD]);
              this.addEffect("p upgrade parmE", "e", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.parmE]);
              this.addEffect("p upgrade parmF", "f", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.parmF]);
              this.addEffect("p upgrade parmG", "g", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.parmG]);
              this.addEffect("p upgrade prestigePoint_demoninator", "prestigePoint_demoninator", "mul", () => 0.95 ** this.dto.upgradeLevels[UpgradeKind.prestigepoint_denominator]);
              this.addEffect("p upgrade exponentK", "k", "exp", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.exponentK]);
              this.addEffect("p upgrade alpha", "alpha", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.alpha]);
              this.addEffect("p upgrade beta", "beta", "add", () => 0.01 * this.dto.upgradeLevels[UpgradeKind.beta]);

              this.addEffect("z upgrade z_multiplier", "delta_r", "mul", () => 1 + (((this.dto.upgradeLevels[UpgradeKind.z_multiplier] > 0) ? 1 : 0) + 0.1 * this.dto.upgradeLevels[UpgradeKind.z_multiplier]) * Math.log10(this.dto.z + 1) / 5);
              this.addEffect("z upgrade Omega", "Omega", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.Omega]);
              this.addEffect("z upgrade gamma", "gamma", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.gamma]);
              this.addEffect("z upgrade delta", "delta", "add", () => 0.1 * this.dto.upgradeLevels[UpgradeKind.delta]);
              this.addEffect("z upgrade a_mul", "a", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.a_mul]);
              this.addEffect("z upgrade b_mul", "b", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.b_mul]);
              this.addEffect("z upgrade c_mul", "c", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.c_mul]);
              this.addEffect("z upgrade d_mul", "d", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.d_mul]);
              this.addEffect("z upgrade e_mul", "e", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.e_mul]);
              this.addEffect("z upgrade f_mul", "f", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.f_mul]);
              this.addEffect("z upgrade g_mul", "g", "mul", () => 1 + 0.1 * this.dto.upgradeLevels[UpgradeKind.g_mul]);
              this.addEffect("z upgrade m", "m", "add", () => this.dto.upgradeLevels[UpgradeKind.m]);

              // Currency / ZMultiplier
              this.addEffect("Omega unlock", "Omega", "add", () => this.dto.tornadoPrestigeTier >= 1 ? 0.1 : 0);
              this.addEffect("Base delta_z", "delta_z", "base", () => this.evaluate("gamma") * this.evaluate("Omega") + this.evaluate("delta"));

              // Prestige / TornadoPrestige
              this.addEffect("Tornado bonus delta r tier factor", "delta_r", "mul", () => 1 + 0.5 * this.dto.tornadoPrestigeTier);
              this.addEffect("Tornado bonus delta r playtime factor", "delta_r", "mul", () => 1 + HourFactor(this.dto.AccumulatedHour));
              this.addEffect("Tornado bonus delta r max P factor", "delta_r", "mul", () => 1 + 0.1 * Math.log10(this.dto.AccumulatedMaxP + 1));

              this.addEffect("Tornado bonus delta z tier factor", "delta_z", "mul", () => 1 + 0.5 * this.dto.tornadoPrestigeTier);
              this.addEffect("Tornado bonus delta z playtime factor", "delta_z", "mul", () => 1 + HourFactor(this.dto.AccumulatedHour));
              this.addEffect("Tornado bonus delta z max P factor", "delta_z", "mul", () => 1 + 0.1 * Math.log10(this.dto.AccumulatedMaxP + 1));

              this.addEffect("Tornado bonus regene_while_resting tier factor", "regene_while_resting", "mul", () => 1 + 0.1 * this.dto.tornadoPrestigeTier);
              this.addEffect("Tornado bonus regene_while_resting playtime factor", "regene_while_resting", "mul", () => 1 + HourFactor(this.dto.AccumulatedHour));
              this.addEffect("Tornado bonus regene_while_resting max P factor", "regene_while_resting", "mul", () => 1 + 0.1 * Math.log10(this.dto.AccumulatedMaxP + 1));

              this.addEffect("Tornado bonus a", "a", "add", () => 0.2 * this.dto.tornadoPrestigeTier * HourFactor(this.dto.AccumulatedHour) * (1 + 0.1 * Math.log10(this.dto.AccumulatedMaxP + 1)));
              this.addEffect("Tornado bonus b", "b", "add", () => 0.02 * this.dto.tornadoPrestigeTier * HourFactor(this.dto.AccumulatedHour) * (1 + 0.01 * Math.log10(this.dto.AccumulatedMaxP + 1)));
              this.addEffect("Tornado bonus c", "c", "add", () => 0.02 * this.dto.tornadoPrestigeTier * HourFactor(this.dto.AccumulatedHour) * (1 + 0.01 * Math.log10(this.dto.AccumulatedMaxP + 1)));
              this.addEffect("Tornado bonus d", "d", "add", () => 0.02 * this.dto.tornadoPrestigeTier * HourFactor(this.dto.AccumulatedHour) * (1 + 0.01 * Math.log10(this.dto.AccumulatedMaxP + 1)));
              this.addEffect("Tornado bonus e", "e", "add", () => 0.02 * this.dto.tornadoPrestigeTier * HourFactor(this.dto.AccumulatedHour) * (1 + 0.01 * Math.log10(this.dto.AccumulatedMaxP + 1)));

              this.addEffect("Tornado unlock NewSigma", "m", "add", () => this.dto.tornadoPrestigeTier >= 13 ? 1 : 0);
              this.addEffect("Tornado unlock critical", "critical", "indep", () => this.dto.tornadoPrestigeTier >= 17 ? 0.1 : 0);
              this.addEffect("Tornado unlock criticalDamage", "criticalDamage", "mul", () => this.dto.tornadoPrestigeTier >= 17 ? 2 : 0);

              // InfiniteSpiralDomain
              this.addEffect("Store upgrade k", "k", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.k]);
              this.addEffect("Store upgrade a", "a", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.a]);
              this.addEffect("Store upgrade b", "b", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.b]);
              this.addEffect("Store upgrade c", "c", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.c]);
              this.addEffect("Store upgrade d", "d", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.d]);
              this.addEffect("Store upgrade e", "e", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.e]);
              this.addEffect("Store upgrade f", "f", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.f]);
              this.addEffect("Store upgrade g", "g", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.g]);
              this.addEffect("Store upgrade atk", "atk", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.atk]);
              this.addEffect("Store upgrade def", "def", "mul", () => 1 + 0.01 * this.dto.variableUpgradeLevels[VariableUpgradeKind.def]);

              // BattleReward / BattleRewardContainer















              // BattleUpgrades


              // SpiralEquipmentContainer
              this.addEffect("Spiral Equation thales", "hp", "mul", () => 1 + 0.01 * this.dto.spiralEquipment_level[EquationKind.thales] + 0.001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.thales] - 1000));
              this.addEffect("Spiral Equation Hypatia", "def", "mul", () => 1 + 0.01 * this.dto.spiralEquipment_level[EquationKind.Hypatia] + 0.001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.Hypatia] - 1000));
              this.addEffect("Spiral Equation archimedes", "atk", "mul", () => 1 + 0.01 * this.dto.spiralEquipment_level[EquationKind.archimedes] + 0.001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.archimedes] - 1000));
              this.addEffect("Spiral Equation pythagoras", "criticalDamage", "mul", () => 1 + 0.01 * this.dto.spiralEquipment_level[EquationKind.pythagoras] + 0.001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.pythagoras] - 1000));
              this.addEffect("Spiral Equation euclides", "critical", "mul", () => 1 + 0.001 * this.dto.spiralEquipment_level[EquationKind.euclides] + 0.0001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.euclides] - 50));
              this.addEffect("Spiral Equation eratos", "attack_speed", "mul", () => 1 + 0.01 * Math.log10(this.dto.spiralEquipment_level[EquationKind.eratos] + 1));
              this.addEffect("Spiral Equation Aryabhata", "super_critical", "add", () => 0.01 * Math.log10(this.dto.spiralEquipment_level[EquationKind.Aryabhata] + 1));
              this.addEffect("Spiral Equation brahmagupta", "equation_speed", "mul", () => 1 + 0.01 * this.dto.spiralEquipment_level[EquationKind.brahmagupta] + 0.001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.brahmagupta] - 1000));
              this.addEffect("Spiral Equation khuwarizmi", "reward_hp_mul", "mul", () => 1 + 0.001 * this.dto.spiralEquipment_level[EquationKind.khuwarizmi] + 0.0001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.khuwarizmi] - 1000));
              this.addEffect("Spiral Equation omar", "reward_atk_mul", "mul", () => 1 + 0.001 * this.dto.spiralEquipment_level[EquationKind.omar] + 0.0001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.omar] - 1000));
              this.addEffect("Spiral Equation bhaskara", "reward_def_mul", "mul", () => 1 + 0.001 * this.dto.spiralEquipment_level[EquationKind.bhaskara] + 0.0001 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.bhaskara] - 1000));
              this.addEffect("Spiral Equation madhava", "reward_exp_mul", "mul", () => 1 + 0.0005 * this.dto.spiralEquipment_level[EquationKind.madhava] + 0.00005 * Math.max(0, this.dto.spiralEquipment_level[EquationKind.madhava] - 1000));

              // SpiralDesignEffect
              this.addEffect("Spiral Design normal_brue active", "a", "mul", () => this.dto.currentDesign == DesignID.normal_brue ? 1.1 : 1);
              this.addEffect("Spiral Design normal_yellow active", "b", "mul", () => this.dto.currentDesign == DesignID.normal_yellow ? 1.1 : 1);
              this.addEffect("Spiral Design normal_red active", "c", "mul", () => this.dto.currentDesign == DesignID.normal_red ? 1.1 : 1);
              this.addEffect("Spiral Design normal_violet active", "d", "mul", () => this.dto.currentDesign == DesignID.normal_violet ? 1.1 : 1);
              this.addEffect("Spiral Design normal_mono active", "e", "mul", () => this.dto.currentDesign == DesignID.normal_mono ? 1.1 : 1);

              this.addEffect("Spiral Design gradation_brue_green active", "hp", "mul", () => this.dto.currentDesign == DesignID.gradation_brue_green ? 1.5 : 1);
              this.addEffect("Spiral Design gradation_brue_green passive", "hp", "mul", () => this.dto.design_isUnlocked[DesignID.gradation_brue_green] ? 1.1 : 1);

              this.addEffect("Spiral Design gradation_yellow_red active", "atk", "mul", () => this.dto.currentDesign == DesignID.gradation_yellow_red ? 1.5 : 1);
              this.addEffect("Spiral Design gradation_yellow_red passive", "atk", "mul", () => this.dto.design_isUnlocked[DesignID.gradation_yellow_red] ? 1.1 : 1);

              this.addEffect("Spiral Design gradation_red_blue active", "def", "mul", () => this.dto.currentDesign == DesignID.gradation_red_blue ? 1.5 : 1);
              this.addEffect("Spiral Design gradation_red_blue passive", "def", "mul", () => this.dto.design_isUnlocked[DesignID.gradation_red_blue] ? 1.1 : 1);

              this.addEffect("Spiral Design gradation_violet_pink active", "critical", "mul", () => this.dto.currentDesign == DesignID.gradation_violet_pink ? 1.05 : 1);
              this.addEffect("Spiral Design gradation_violet_pink passive", "critical", "mul", () => this.dto.design_isUnlocked[DesignID.gradation_violet_pink] ? 1.01 : 1);

              this.addEffect("Spiral Design gradation_white_cyan active", "criticalDamage", "mul", () => this.dto.currentDesign == DesignID.gradation_white_cyan ? 1.2 : 1);
              this.addEffect("Spiral Design gradation_white_cyan passive", "criticalDamage", "mul", () => this.dto.design_isUnlocked[DesignID.gradation_white_cyan] ? 1.01 : 1);

              this.addEffect("Spiral Design circles_white active", "regene_while_resting", "mul", () => this.dto.currentDesign == DesignID.circles_white ? 3 : 1);
              this.addEffect("Spiral Design circles_white passive", "regene_while_resting", "mul", () => this.dto.design_isUnlocked[DesignID.circles_white] ? 1.5 : 1);

              this.addEffect("Spiral Design circles_green_pink active regene_while_resting", "regene_while_resting", "mul", () => this.dto.currentDesign == DesignID.circles_green_pink ? 1.5 : 1);
              this.addEffect("Spiral Design circles_green_pink active def", "def", "mul", () => this.dto.currentDesign == DesignID.circles_green_pink ? 1.3 : 1);
              this.addEffect("Spiral Design circles_green_pink passive regene_while_resting", "regene_while_resting", "mul", () => this.dto.design_isUnlocked[DesignID.circles_green_pink] ? 1.1 : 1);
              this.addEffect("Spiral Design circles_green_pink passive def", "def", "mul", () => this.dto.design_isUnlocked[DesignID.circles_green_pink] ? 1.05 : 1);

              this.addEffect("Spiral Design circles_cyan_red active regene_while_resting", "regene_while_resting", "mul", () => this.dto.currentDesign == DesignID.circles_cyan_red ? 1.5 : 1);
              this.addEffect("Spiral Design circles_cyan_red active atk", "atk", "mul", () => this.dto.currentDesign == DesignID.circles_cyan_red ? 1.3 : 1);
              this.addEffect("Spiral Design circles_cyan_red passive regene_while_resting", "regene_while_resting", "mul", () => this.dto.design_isUnlocked[DesignID.circles_cyan_red] ? 1.1 : 1);
              this.addEffect("Spiral Design circles_cyan_red passive atk", "atk", "mul", () => this.dto.design_isUnlocked[DesignID.circles_cyan_red] ? 1.05 : 1);

              this.addEffect("Spiral Design dottedLine_blue active", "line_number_multiplier", "mul", () => this.dto.currentDesign == DesignID.dottedLine_blue ? 2 : 1);
              this.addEffect("Spiral Design dottedLine_blue passive", "line_number_multiplier", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_blue] ? 1.25 : 1);

              this.addEffect("Spiral Design dottedLine_white active", "line_number_multiplier", "mul", () => this.dto.currentDesign == DesignID.dottedLine_white ? 1.25 : 1);
              this.addEffect("Spiral Design dottedLine_white passive line_number_multiplier", "line_number_multiplier", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_white] ? 1.1 : 1);
              this.addEffect("Spiral Design dottedLine_white passive a", "a", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_white] ? 1.05 : 1);
              this.addEffect("Spiral Design dottedLine_white passive b", "b", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_white] ? 1.05 : 1);
              this.addEffect("Spiral Design dottedLine_white passive c", "c", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_white] ? 1.05 : 1);

              this.addEffect("Spiral Design dottedLine_orange_brue active", "line_number_multiplier", "mul", () => this.dto.currentDesign == DesignID.dottedLine_orange_brue ? 1.25 : 1);
              this.addEffect("Spiral Design dottedLine_orange_brue passive line_number_multiplier", "line_number_multiplier", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_orange_brue] ? 1.1 : 1);
              this.addEffect("Spiral Design dottedLine_orange_brue passive d", "d", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_orange_brue] ? 1.05 : 1);
              this.addEffect("Spiral Design dottedLine_orange_brue passive e", "e", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_orange_brue] ? 1.05 : 1);
              this.addEffect("Spiral Design dottedLine_orange_brue passive f", "f", "mul", () => this.dto.design_isUnlocked[DesignID.dottedLine_orange_brue] ? 1.05 : 1);

              this.addEffect("Spiral Design stripe_white active", "v", "add", () => this.dto.currentDesign == DesignID.stripe_white ? 5 : 0);
              this.addEffect("Spiral Design stripe_white passive", "v", "add", () => this.dto.design_isUnlocked[DesignID.stripe_white] ? 2 : 0);

              this.addEffect("Spiral Design stripe_blue active", "reward_atk", "add", () => this.dto.currentDesign == DesignID.stripe_blue ? 5 : 0);
              this.addEffect("Spiral Design stripe_blue passive", "reward_atk", "add", () => this.dto.design_isUnlocked[DesignID.stripe_blue] ? 2 : 0);

              this.addEffect("Spiral Design stripe_yellow active", "reward_def", "add", () => this.dto.currentDesign == DesignID.stripe_yellow ? 5 : 0);
              this.addEffect("Spiral Design stripe_yellow passive", "reward_def", "add", () => this.dto.design_isUnlocked[DesignID.stripe_yellow] ? 2 : 0);

              this.addEffect("Spiral Design sine_green active", "reward_exp", "add", () => this.dto.currentDesign == DesignID.sine_green ? 3 : 0);
              this.addEffect("Spiral Design sine_green passive", "reward_exp", "add", () => this.dto.design_isUnlocked[DesignID.sine_green] ? 1 : 0);

              this.addEffect("Spiral Design sine_white_red active", "reward_exp_mul", "mul", () => this.dto.currentDesign == DesignID.sine_white_red ? 1.1 : 1);
              this.addEffect("Spiral Design sine_white_red passive", "reward_exp_mul", "mul", () => this.dto.design_isUnlocked[DesignID.sine_white_red] ? 1.03 : 1);

              this.addEffect("Spiral Design sine_orange_purple active hp", "hp", "mul", () => this.dto.currentDesign == DesignID.sine_orange_purple ? 2 : 1);
              this.addEffect("Spiral Design sine_orange_purple active atk", "atk", "mul", () => this.dto.currentDesign == DesignID.sine_orange_purple ? 2 : 1);
              this.addEffect("Spiral Design sine_orange_purple active def", "def", "mul", () => this.dto.currentDesign == DesignID.sine_orange_purple ? 2 : 1);
              this.addEffect("Spiral Design sine_orange_purple passive hp", "hp", "mul", () => this.dto.design_isUnlocked[DesignID.sine_orange_purple] ? 1.3 : 1);
              this.addEffect("Spiral Design sine_orange_purple passive atk", "atk", "mul", () => this.dto.design_isUnlocked[DesignID.sine_orange_purple] ? 1.3 : 1);
              this.addEffect("Spiral Design sine_orange_purple passive def", "def", "mul", () => this.dto.design_isUnlocked[DesignID.sine_orange_purple] ? 1.3 : 1);

              this.addEffect("Spiral Design snake active", "super_critical", "add", () => this.dto.currentDesign == DesignID.snake ? 0.1 : 0);
              this.addEffect("Spiral Design snake passive", "super_critical", "add", () => this.dto.design_isUnlocked[DesignID.snake] ? 0.03 : 0);

              this.addEffect("Spiral Design bubble active", "rare_drop", "mul", () => this.dto.currentDesign == DesignID.bubble ? 1.2 : 1);
              this.addEffect("Spiral Design bubble passive", "rare_drop", "mul", () => this.dto.design_isUnlocked[DesignID.bubble] ? 1.05 : 1);

              this.addEffect("Spiral Design arrow active", "attack_speed", "mul", () => this.dto.currentDesign == DesignID.arrow ? 1.2 : 1);
              this.addEffect("Spiral Design arrow passive", "attack_speed", "mul", () => this.dto.design_isUnlocked[DesignID.arrow] ? 1.05 : 1);

              this.addEffect("Spiral Design pi active", "Omega", "mul", () => this.dto.currentDesign == DesignID.pi ? 1.5 : 1);
              this.addEffect("Spiral Design pi passive", "Omega", "mul", () => this.dto.design_isUnlocked[DesignID.pi] ? 1.2 : 1);

              this.addEffect("Spiral Design rects active", "reward_exp_mul", "mul", () => this.dto.currentDesign == DesignID.rects ? 1.05 : 1);
              this.addEffect("Spiral Design rects passive", "battle_upgrade_cost", "mul", () => this.dto.design_isUnlocked[DesignID.rects] ? 0.95 : 1);

              this.addEffect("Spiral Design rainbow active", "equation_speed", "mul", () => this.dto.currentDesign == DesignID.rainbow ? 2 : 1);
              this.addEffect("Spiral Design rainbow passive", "equation_speed", "mul", () => this.dto.design_isUnlocked[DesignID.rainbow] ? 1.5 : 1);

              this.addEffect("Spiral Design kanji active", "delta", "mul", () => this.dto.currentDesign == DesignID.kanji ? 2 : 1);
              this.addEffect("Spiral Design kanji passive", "equation_slot", "add", () => this.dto.design_isUnlocked[DesignID.kanji] ? 1 : 0);

              this.addEffect("Spiral Design rahmen active", "gamma", "mul", () => this.dto.currentDesign == DesignID.rahmen ? 1.5 : 1);
              this.addEffect("Spiral Design rahmen passive", "gamma", "mul", () => this.dto.design_isUnlocked[DesignID.rahmen] ? 1.2 : 0);

              this.addEffect("Spiral Design lazer active", "z_reactor_exp", "mul", () => this.dto.currentDesign == DesignID.lazer ? 1.5 : 1);
              this.addEffect("Spiral Design lazer passive", "z_reactor_exp", "mul", () => this.dto.design_isUnlocked[DesignID.lazer] ? 1.2 : 0);

              this.addEffect("Spiral Design spaceShip active", "omega", "mul", () => this.dto.currentDesign == DesignID.spaceShip ? 1.1 : 1);
              this.addEffect("Spiral Design spaceShip passive", "omega", "mul", () => this.dto.design_isUnlocked[DesignID.spaceShip] ? 1.1 : 1);

              this.addEffect("Spiral Design seigaiha active", "alpha", "add", () => this.dto.currentDesign == DesignID.seigaiha ? 0.025 : 0);
              this.addEffect("Spiral Design seigaiha passive", "alpha", "add", () => this.dto.design_isUnlocked[DesignID.seigaiha] ? 0.01 : 0);

              this.addEffect("Spiral Design sippou active", "beta", "add", () => this.dto.currentDesign == DesignID.sippou ? 0.025 : 0);
              this.addEffect("Spiral Design sippou passive", "beta", "add", () => this.dto.design_isUnlocked[DesignID.sippou] ? 0.01 : 0);

              this.addEffect("Spiral Design lame active", "math", "add", () => this.dto.currentDesign == DesignID.lame ? 1000 : 0);
              this.addEffect("Spiral Design lame passive", "math", "add", () => this.dto.design_isUnlocked[DesignID.lame] ? 200 : 0);

              // ReactorContainer

            }

            this.debug = function ( ) {
              console.log(this);
              for ( var effect in this.effects ) {
                var value = this.effects[effect].value();
                if ( value != value ) {
                  console.log(this.effects[effect].value);
                  throw "NaN";
                }
              }
            }
          }

          function diminishedAttackSpeed ( pure_attack_speed ) {
            if ( pure_attack_speed < 4 )
              return 1 + pure_attack_speed;
            return ( 17.5 * pure_attack_speed + 55 ) ** (1/3);
          }
          function diminishedRareChance ( pure_rare_chance ) {
            if ( pure_rare_chance < 0.5 )
              return 1 + pure_rare_chance;
            if ( pure_rare_chance < 5.5 )
              return 1.5 + ( pure_rare_chance - 0.5 ) * 0.05;
            return 1.75 + ( pure_rare_chance - 0.75 ) * 0.001;
          }
          function decay ( math_skill ) {
            if ( math_skill < 50000 )
              return 1 - 0.5 * math_skill / 50000;
            return 1 - (0.9 - 1 / 1.000018326 ** math_skill);
          }
          function HourFactor ( hour ) {
            if (hour <= 100.0)
              return hour * 1.0 * 0.01;
            if (hour <= 1000.0)
              return hour * 1.0 * 0.01 + (hour - 100.0) * 1.0 * 0.005;
            return hour * 1.0 * 0.01 + (hour - 100.0) * 1.0 * 0.005 + (hour - 1100.0) * 1.0 * 0.001;
          }
          function SigmaSum ( level ) {
            var r = 0;
            for ( var i = 0; i < level; i++ )
              r += 1 / Math.sqrt(i + 1);
            return r;
          }
        </script>
    </head>
    <body>
      <img src="https://visitor-badge.glitch.me/badge?page_id=kloppie5.idlespiralinforepo" alt="visitor counter" /><br/>

      Last public update: 2022/07/02 12:05<br>
      Last test update: 2022/07/29 10:19<br>
      Last site update: 2022/09/08 21:19<br/>

      <input type="file" onchange="loadSave(event)" />

      <div class="navbar" style="position: relative; width: 1500px; height: 60px">
        <div class="marked nav-button explainable explain_r_upgrades" style="left: 0px; width: 375px">r Upgrades</div>
        <div class="marked nav-button explainable explain_p_upgrades" style="left: 375px; width: 375px">P Upgrades</div>
        <div class="marked nav-button explainable explain_z_upgrades" style="left: 750px; width: 375px">z Upgrades</div>
        <div class="marked nav-button explainable explain_tornado_prestiges" style="left: 1125px; width: 375px">Tornado Prestige</div>
      </div>
      <div class="navbar" style="position: relative; width: 1500px; height: 60px">
        <div class="marked nav-button explainable explain_achievements" style="left: 0px; width: 187px">Achievements</div>
        <div class="marked nav-button explainable explain_store" style="left: 187px; width: 188px">Store</div>
        <div class="marked nav-button explainable explain_battle_spiral" style="left: 375px; width: 93px">Battle</div>
        <div class="marked nav-button-mini explainable explain_battle_upgrades" style="left: 468px; width: 94px">upgrades</div>
        <div class="marked nav-button-mini explainable explain_battle_reward_candidates" style="top: 30px; left: 468px; width: 94px">rewards</div>
        <div class="marked nav-button explainable explain_spiral_equations" style="left: 562px; width: 188px">Equations</div>
        <div class="marked nav-button explainable explain_challenges" style="left: 750px; width: 187px">Challenges</div>
        <div class="marked nav-button explainable explain_spiral_designs" style="left: 937px; width: 188px">Designs</div>
        <div class="marked nav-button explainable explain_z_reactors" style="left: 1125px; width: 187px">Z Reactors</div>
        <div class="marked nav-button explainable explain_theorems unavailable" style="left: 1312px; width: 188px">Theorems</div>
      </div>
      <div class="navbar" style="position: relative; width: 1500px; height: 60px">
        <div class="marked nav-button explainable explain_story" style="left: 0px; width: 250px">Story</div>
        <div class="marked nav-button explainable explain_changelog" style="left: 250px; width: 250px">changelog</div>
        <div class="marked nav-button explainable explain_meta_changelog" style="left: 500px; width: 250px">meta changelog</div>
        <div class="marked nav-button explainable explain_bugs" style="left: 750px; width: 250px"><i class="fa-solid fa-bug"></i></div>
        <div class="marked nav-button explainable explain_faq" style="left: 1000px; width: 250px">faq</div>
        <div class="marked nav-button explainable explain_dev" style="left: 1250px; width: 250px">dev</div>
      </div>
      <div class="" style="position: absolute; width: 1500px; height: 1000px">
        <div class="" style="position: absolute; width: 420px; height: 500px">
          <div class="" style="position: absolute; width: 420px; height: 400px;">
            <div class="formula" style="height: 50px">
              <div class="explainable explain_delta_r">$\Delta r$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="explainable explain_m">$\displaystyle\sum\limits_{l_2=1}^m$</div>
              <div class="explainable explain_sigmaA">$\displaystyle\sum\limits_{l=1}^n A_l$</div>
              <div class="explainable explain_omega">$\omega^{omegaExponent}$</div>
              <div>+</div>
              <div class="explainable explain_k">$k$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_delta_r">0</div>
            </div>
            <div class="formula" style="position: absolute; top: 50px; height: 65px">
              <div class="explainable explain_sigmaA">$A_i$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="explainable explain_integral">$\displaystyle\int\limits_0^\alpha 2 x^\beta$</div>
              <div class="explainable explain_u">$u$</div>
              <div class="explainable explain_sigmaA">$A_{i-1}$</div>
              <div>$dx$</div>
              <div>+</div>
              <div class="explainable explain_v">$v$</div>
            </div>
            <div class="formula explainable explain_u" style="position: absolute; top: 115px; left: 30px; width: 120px; height: 20px">
              <div>$u$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_u">0</div>
            </div>
            <div class="formula explainable explain_v" style="position: absolute; top: 115px; left: 150px; width: 120px; height: 20px">
              <div>$v$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_v">0</div>
            </div>
            <div class="formula explainable explain_n" style="position: absolute; top: 135px; left: 30px; width: 120px; height: 20px">
              <div>$n$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_n">0</div>
            </div>
            <div class="formula explainable explain_m" style="position: absolute; top: 135px; left: 150px; width: 120px; height: 20px">
              <div>$m$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_m">0</div>
            </div>
            <div class="formula explainable explain_alpha" style="position: absolute; top: 155px; left: 30px; width: 120px; height: 20px">
              <div>$\alpha$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_alpha">0</div>
            </div>
            <div class="formula explainable explain_beta" style="position: absolute; top: 155px; left: 150px; width: 120px; height: 20px">
              <div>$\beta$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_beta">0</div>
            </div>
            <div class="formula" style="position: absolute; top: 175px; left: 30px; height: 20px">
              <div class="explainable explain_largeA">$A_1$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="explainable explain_a">$a$</div>
              <div>$\times$</div>
              <div class="explainable explain_b">$b$</div>
              <div>$\times$</div>
              <div class="explainable explain_c">$c$</div>
              <div>$\times$</div>
              <div class="explainable explain_d">$d$</div>
              <div>$\times$</div>
              <div class="explainable explain_e">$e$</div>
              <div>$\times$</div>
              <div class="explainable explain_f">$f$</div>
              <div>$\times$</div>
              <div class="explainable explain_g">$g$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_largeA explainable explain_largeA">0</div>
            </div>
            <div class="formula explainable explain_a" style="position: absolute; top: 195px; left: 30px; height: 20px">
              <div>$a$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_a">0</div>
            </div>
            <div class="formula explainable explain_b" style="position: absolute; top: 215px; left: 30px; height: 20px">
              <div>$b$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_b">0</div>
            </div>
            <div class="formula explainable explain_c" style="position: absolute; top: 235px; left: 30px; height: 20px">
              <div>$c$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_c">0</div>
            </div>
            <div class="formula explainable explain_d" style="position: absolute; top: 255px; left: 30px; height: 20px">
              <div>$d$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_d">0</div>
            </div>
            <div class="formula explainable explain_e" style="position: absolute; top: 275px; left: 30px; height: 20px">
              <div>$e$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_e">0</div>
            </div>
            <div class="formula explainable explain_f" style="position: absolute; top: 295px; left: 30px; height: 20px">
              <div>$f$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_f">0</div>
            </div>
            <div class="formula explainable explain_g" style="position: absolute; top: 315px; left: 30px; height: 20px">
              <div>$g$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_g">0</div>
            </div>
            <div class="formula explainable explain_k" style="position: absolute; top: 335px; left: 30px; height: 20px">
              <div>$k$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_k">0</div>
            </div>
            <div class="formula explainable explain_omega" style="position: absolute; top: 370px; left: 30px; height: 20px">
              <div>$\omega$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_omega">0</div>
            </div>
          </div>
          <div class="" style="position: absolute; top: 420px; width: 420px; height: 80px;">
            <div class="formula" style="height: 20px">
              <div class="explainable explain_delta_z">$\Delta z$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="explainable explain_gamma">$\gamma$</div>
              <div class="explainable explain_Omega">$\Omega$</div>
              <div>+</div>
              <div class="explainable explain_delta">$\delta$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_delta_z explainable explain_delta_z">0</div>
            </div>
            <div class="formula explainable explain_gamma" style="position: absolute; top: 20px; left: 30px; height: 20px">
              <div>$\gamma$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_gamma">0</div>
            </div>
            <div class="formula explainable explain_Omega" style="position: absolute; top: 40px; left: 30px; height: 20px">
              <div>$\Omega$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_Omega">0</div>
            </div>
            <div class="formula explainable explain_delta" style="position: absolute; top: 60px; left: 30px; height: 20px">
              <div>$\delta$</div>
              <div>&nbsp;=&nbsp;</div>
              <div class="update_display display_delta">0</div>
            </div>
          </div>
        </div>

        <div class="" id="main" style="position: absolute; left: 420px; width: 780px">

          <div class="explanation" id="explanation_r_upgrades" style="display: none">
            <div class="title">r Upgrades</div>
            <div class="entry">
              <b>k:</b><br>
              $k \mathrel{{+}{=}} \text{level}$<br>
              <b>Upgrade Cost:</b> $1 * 1.1 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>a:</b><br>
              $a \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10 * (1.3 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>b:</b><br>
              $b \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^2 * (1.5 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>c:</b><br>
              $c \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^3 * (2 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>d:</b><br>
              $d \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^4 * (2.5 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>e:</b><br>
              $e \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^5 * (3 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>ae11:</b><br>
              $a \mathrel{{*}{=}} 1 + 0.01 * \text{level}$<br>
              $b \mathrel{{*}{=}} 1 + 0.01 * \text{level}$<br>
              $c \mathrel{{*}{=}} 1 + 0.01 * \text{level}$<br>
              $d \mathrel{{*}{=}} 1 + 0.01 * \text{level}$<br>
              $e \mathrel{{*}{=}} 1 + 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^4 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>logk:</b><br>
              $a \mathrel{{*}{=}} 1 + 0.1 * \text{level} * \log(k + 1)$<br>
              <b>Upgrade Cost:</b> $10^4 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>f:</b><br>
              $f \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^6 * (4 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>g:</b><br>
              $g \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^6 * (4.5 ^ {0.1}) ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>beMul:</b><br>
              $a \mathrel{{*}{=}} (b + c + d + e + f + g) / 6$<br>
              $a \mathrel{{*}{=}} (1 + 0.1 * \text{level})$<br>
              <b>Upgrade Cost:</b> $10^{12} * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>rAll:</b><br>
              $\Delta r \mathrel{{*}{=}} (1 + \text{sum of levels} / 10000)$<br>
              $\Delta r \mathrel{{*}{=}} (1 + 0.1 * \text{level})$<br>
              <b>Upgrade Cost:</b> $10^{18} * 10 ^ {\text{level}}$
            </div>

          </div>
          <div class="explanation" id="explanation_p_upgrades" style="display: none">
            <div class="title">P Upgrades</div>
            <div class="entry">
              <b>n:</b><br>
              $n \mathrel{{+}{=}} \text{level}$<br>
              <b>Upgrade Cost:</b> $1 * 5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>v:</b><br>
              $v \mathrel{{+}{=}} 10 * \text{level}$<br>
              <b>Upgrade Cost:</b> $1 * 2 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>u:</b><br>
              $u \mathrel{{+}{=}} \text{level}$<br>
              <b>Upgrade Cost:</b> $10 * 1e1 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmA:</b><br>
              $a \mathrel{{+}{=}} \text{level}$<br>
              <b>Upgrade Cost:</b> $10 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmK:</b><br>
              $k \mathrel{{+}{=}} 10 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmB:</b><br>
              $b \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^2 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmC:</b><br>
              $c \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^3 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmD:</b><br>
              $d \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^4 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmE:</b><br>
              $e \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^5 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmF:</b><br>
              $f \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^6 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>parmG:</b><br>
              $g \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^7 * 1.5 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>exponentK:</b><br>
              $k\_exponent \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^7 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>alpha:</b><br>
              $\alpha \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^{21} * 1.25 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>beta:</b><br>
              $\beta \mathrel{{+}{=}} 0.01 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^{24} * 1.4 ^ {\text{level}}$
            </div>
            <div class="entry unavailable">
              <b>ppd:</b><br>
              $ppd \mathrel{{*}{=}} 0.95 ^ {\text{level}}$<br>
              <b>Upgrade Cost:</b> $5 * 2 ^ {\text{level}}$
            </div>

          </div>
          <div class="explanation" id="explanation_z_upgrades" style="display: none">
            <div class="title">z Upgrades</div>
            <div class="entry">
              <b>z_multiplier:</b><br>
              $\Delta r \mathrel{{*}{=}} 1 + ((\text{level} > 0) + 0.1 * \text{level}) * \log(z + 1)$<br>
              <b>Upgrade Cost:</b> $1 + 5 * \text{level}$
            </div>
            <div class="entry">
              <b>Omega:</b><br>
              $\Omega \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^2 * 2 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>gamma:</b><br>
              $\gamma \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^2 * 2 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>delta:</b><br>
              $\delta \mathrel{{+}{=}} 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^2 * 2 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>a_mul:</b><br>
              $a \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^3 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>b_mul:</b><br>
              $b \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^4 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>c_mul:</b><br>
              $c \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^5 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>d_mul:</b><br>
              $d \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^6 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>e_mul:</b><br>
              $e \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^7 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>f_mul:</b><br>
              $f \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^8 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>g_mul:</b><br>
              $g \mathrel{{*}{=}} 1 + 0.1 * \text{level}$<br>
              <b>Upgrade Cost:</b> $10^9 * 10 ^ {\text{level}}$
            </div>
            <div class="entry">
              <b>m:</b><br>
              $m \mathrel{{+}{=}} \text{level}$<br>
              <b>Upgrade Cost:</b> $10^{12} * (10^3) ^ {\text{level}}$
            </div>

          </div>
          <div class="explanation" id="explanation_tornado_prestiges" style="display: none">
            <div class="title">Tornado Prestiges</div>
            <p>
              <b>Tornado Prestiges</b> are the main way to progress in the game.<br>
              <br>
              After your first tornado prestige, you will get access to a set of small bonuses that are based on the following factors:<br>
              <br>
              <b>tornado tier</b> - Your current tornado tier; <span id="update_custom_tornado_tier"></span><br>
              <script>
                idlespiral.addUpdateFunction(function() {
                  $("#update_custom_tornado_tier").text(idlespiral.dto.tornadoPrestigeTier);
                });
              </script>
              <b>HourFactor</b> - A factor based on your total playtime in hours, following the formula below; <span id="update_custom_hour_factor"></span><br>
              <script>
                idlespiral.addUpdateFunction(function() {
                  $("#update_custom_hour_factor").text(HourFactor(idlespiral.dto.AccumulatedHour));
                });
              </script>
              <b>maxP</b> - The highest P you have ever had at the time of a tornado prestige; <span id="update_custom_accumulated_max_p"></span><br>
              <script>
                idlespiral.addUpdateFunction(function() {
                  $("#update_custom_accumulated_max_p").text(idlespiral.dto.AccumulatedMaxP);
                });
              </script>
              <div class="formula" style="height: 80px">
                <div>$$\text{HourFactor} = \begin{cases}
                  0.01 * \text{playtime},& \text{if playtime} \leq 100 \\
                  0.015 * \text{playtime} - 0.5,& \text{if } 100 \lt \text{playtime} \leq 1000 \\
                  0.016 * \text{playtime} - 1.6,& \text{otherwise}
                \end{cases}$$</div>
              </div>
              <br>
            </p>

            <div class="formula" style="height: 30px">
              <div class="explainable explain_delta_r">$\Delta r$</div>
              <div>&nbsp;$\mathrel{{*}{=}}$&nbsp;</div>
              <div class="">$(1 + 0.5 * \text{tornado tier})$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + \text{HourFactor})$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.1 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="explainable explain_delta_z">$\Delta z$</div>
              <div>&nbsp;$\mathrel{{*}{=}}$&nbsp;</div>
              <div class="">$(1 + 0.5 * \text{tornado tier})$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + \text{HourFactor})$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.1 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="">$regene\_while\_resting$</div>
              <div>&nbsp;$\mathrel{{*}{=}}$&nbsp;</div>
              <div class="">$(1 + 0.1 * \text{tornado tier})$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + \text{HourFactor})$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.1 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="">$spiral\_point\_multiplier$</div>
              <div>&nbsp;$=$&nbsp;</div>
              <div class="">$1 + 1\% * \text{tornado tier}$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="explainable explain_a">$a$</div>
              <div>&nbsp;$\mathrel{{+}{=}}$&nbsp;</div>
              <div class="">$0.2$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{tornado tier}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{HourFactor}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.1 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="explainable explain_b">$b$</div>
              <div>&nbsp;$\mathrel{{+}{=}}$&nbsp;</div>
              <div class="">$0.02$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{tornado tier}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{HourFactor}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.01 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="explainable explain_c">$c$</div>
              <div>&nbsp;$\mathrel{{+}{=}}$&nbsp;</div>
              <div class="">$0.02$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{tornado tier}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{HourFactor}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.01 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="explainable explain_d">$d$</div>
              <div>&nbsp;$\mathrel{{+}{=}}$&nbsp;</div>
              <div class="">$0.02$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{tornado tier}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{HourFactor}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.01 * \log(\text{maxP} + 1))$</div>
            </div>
            <div class="formula" style="height: 30px">
              <div class="explainable explain_e">$e$</div>
              <div>&nbsp;$\mathrel{{+}{=}}$&nbsp;</div>
              <div class="">$0.02$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{tornado tier}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$\text{HourFactor}$</div>
              <div>&nbsp;$*$&nbsp;</div>
              <div class="">$(1 + 0.01 * \log(\text{maxP} + 1))$</div>
            </div>
            <br>
            <p>
              Besides these bonuses; you also unlock new features when you reach certain levels;
            </p>

            <table>
              <thead>
                <tr>
                  <th>Level</th>
                  <th>Unlock</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>1</td><td>Basic Challenge</td></tr>
                <tr><td>2</td><td>Auto omega Prestige</td></tr>
                <tr><td>3</td><td>Drunk Challenge</td></tr>
                <tr class="unavailable"><td>3</td><td>Drain Challenge</td></tr>
                <tr><td>4</td><td>Spiral Equations</td></tr>
                <tr><td>5</td><td>Flower Challenge</td></tr>
                <tr><td>6</td><td>Auto p Prestige</td></tr>
                <tr><td>7</td><td>Slow Spiral Challenge</td></tr>
                <tr><td>8</td><td>Enemy PI</td></tr>
                <tr><td>9</td><td>Gluttony Challenge</td></tr>
                <tr><td>10</td><td>Z Reactors</td></tr>
                <tr><td>11</td><td>Straight Line Challenge</td></tr>
                <tr><td>12</td><td>Enemy Gamma</td></tr>
                <tr><td>13</td><td>New Sigma</td></tr>
                <tr><td>14</td><td>Poor Challenge</td></tr>
                <tr><td>15</td><td>No Rebirth Challenge</td></tr>
                <tr><td>16</td><td>Enemy Napier</td></tr>
                <tr><td>17</td><td>Critical</td></tr>
                <tr><td>18</td><td>Sinkhole Challenge</td></tr>
                <tr><td>19</td><td>m</td></tr>
                <tr><td>20</td><td>Sphere Challenge</td></tr>
                <tr><td>21</td><td>Integral</td></tr>
                <tr><td>22</td><td>New battle upgrades</td></tr>
                <tr><td>23</td><td>Z Reactor CR</td></tr>
                <tr><td>24</td><td>Fury Challenge</td></tr>
                <tr><td>25</td><td>Enemy penta</td></tr>
                <tr><td>26</td><td>Z Reactor CRX</td></tr>
                <tr><td>27</td><td>New battle upgrades 2</td></tr>
                <tr class="unavailable"><td>99</td><td>Exponent A</td></tr>
              </tbody>
            </table>

          </div>
          <div class="explanation" id="explanation_achievements" style="display: none">
            <div class="title">Achievements</div>
            When you complete an achievement, you can click it to claim it and gain 30 Spiral Points.<br>

            <h2>Daily</h2>
            <div class="entry">
              Every day you can claim daily "spins" that give you Spiral Points.<br>
              You get 3 spins per day, or 5 if you have the Daily DLC.<br>
              The points you get per spin are random between 1 and 39.<br>
              If you have the Daily DLC, the amount of points you get gets multiplied by 1.5.
            </div>

            <!--

Training of the semicircular canal
r reaches 1Oc
Rocket Spiral
Δrreaches 1Sp
Many a little makes a mickle
Upgrade k 2000 times
You can't lose to c.
Upgrade a 2000 times
belief
Upgrade b 1000 times
Is this "c" a constant?
Upgrade c 1000 times
It could be the fractal dimension.
Upgrade d 1000 times
Napier's bones are not just bones
Upgrade e 1000 times
Not even fluoride.
Upgrade f 1000 times
Not even in Galois's lifetime.
Upgrade g 1000 times
I don't need a theory
Reach 10th ω prestige
What happens n times will happen n+1 times
Upgrade n 7 times
Don't diverge
Upgrade v 200 times
With the Maclaurin series, I learned at age 3
Upgrade u 7 times
You don't lose experience if you change jobs
Earn 1M Prestige Point
Losing events are also overturned
Reach T10
DNA was a spiral, too
z reaches 10M
Fury Spiral
Defeat Beta
neutron star
r reaches 1Ud
Light Speed Spiral
Δr reaches 1Dc
The "k" stands for king.
Upgrade k 10000 times
I'm the hero of this story.
Upgrade a 10000 times
Best
Upgrade b 5000 times
Continuous but not differentiable
Upgrade c 4000 times
It was also an infinite dimension
Upgrade d 3000 times
Mirifici Logarithmorum Canonis Descriptio
Upgrade e 2000 times
Let's learn about category theory
Upgrade f 2000 times
Why study group theory?
Upgrade g 2000 times
All I want is speed
Reach 30th ω prestige
The number line goes on and on... forever
Upgrade n 10 times
They don't seem to want to converge
Upgrade v 1000 times
But I don't know how to add
Upgrade u 10 times
So let's cherish the moment
Earn 1B Prestige Point
This time we can save the world
Reach T15
This is a real hurricane
z reaches 1B
Did you get close to the great mathematicians?
Defeat PI
Do you like prime numbers?
Set the level of all parameters(a~g)  to an even number of 2 or more.
You are odd lovers.
Set the level of all parameters(a~g)  to an odd number of 1 or more
This turned around the earth for a year
Set all parameter(a~g)  levels to prime into a sequence (2,3,5,...)
The person who counts the petals
Make the level of all parameters(a~g)  a Fibonacci sequence (1,1,2,3,5,...)
The "k" That Lived A Million Times
Purchase a cumulative total of 1 million k
A Million Leagues Under the Sea
Purchase a cumulative total of 1 million a
a journey of a thousand miles begins with a single step
Purchase a cumulative total of 1 million n
Study up on your number sequences!
Make u and v each level 5 without raising n levels
Are you doing this on purpose?
Increase the level of n to 5 without increasing the level of u and v.
You are an idle gamer
Don't click for 1 hours
You read Euclid's Elements.
Rotate 365
be dizzy
ω reaches 3
Napier
let e be more than 2.718

        //Tier4
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(r, 1E27)));
        _achievements.Add(Achievement.CreateAchievement(new DistanceDomainAchievement(r, 1E24, DistanceDomainAchievement.Kind.MaxDistancePerSecond)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.k), 2000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.g), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new PrestigeNumberAchievement(softPrestige, 7)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.n), 7)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.v), 200)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.u), 7)));
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(prestigePoint, 1E6)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(() => tornadoPrestige.prestigeNum >= 10)));
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(z, 1E7)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(() => dto.enemy_defeated[(int)EnemyID.b] >= 1)));

        //Tier5
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(r, 1E36)));
        _achievements.Add(Achievement.CreateAchievement(new DistanceDomainAchievement(r, 1E33, DistanceDomainAchievement.Kind.MaxDistancePerSecond)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.k), 10000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a), 10000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b), 5000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c), 4000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d), 3000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e), 2000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f), 2000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.g), 2000)));
        _achievements.Add(Achievement.CreateAchievement(new PrestigeNumberAchievement(softPrestige, 10)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.n), 10)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.v), 1000)));
        _achievements.Add(Achievement.CreateAchievement(new LevelAchievement(upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.u), 10)));
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(prestigePoint, 1E9)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(() => tornadoPrestige.prestigeNum >= 15)));
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(z, 1E9)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(() => dto.enemy_defeated[(int)EnemyID.pi] >= 1)));

		// Special
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(
          () => upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.g).level % 2 == 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f).level != 0
            )));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(
          () => upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.g).level % 2 == 1 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e).level != 0 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f).level != 0
            )));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(
          () => upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a).level == 2 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b).level == 3 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c).level == 5 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d).level == 7 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e).level == 11 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f).level == 13 &&
                upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.g).level == 17
            )));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(
           () => upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.a).level == 1 &&
                 upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.b).level == 1 &&
                 upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.c).level == 2 &&
                 upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.d).level == 3 &&
                 upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.e).level == 5 &&
                 upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.f).level == 8 &&
                 upgradeContainer.GetUpgrade(UpgradeContainer.UpgradeKind.g).level == 13
             )));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(()
            => dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.k] >= 1E6)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(()
            => dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.a] >= 1E6)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(()
            => dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.n] >= 1E3)));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(()
            => dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.n] == 0
             && dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.u] >= 5
             && dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.v] >= 5
            )));
        _achievements.Add(Achievement.CreateAchievement(new NormalAchievement(()
            => dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.n] >= 5
             && dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.u] == 0
             && dto.totalUpgradeLevels[(int)UpgradeContainer.UpgradeKind.v] == 0
            )));
        _achievements.Add(Achievement.CreateAchievement(new NoClickAchievement(3600)));
        _achievements.Add(Achievement.CreateAchievement(new CurrentThetaAchievement(365 * 2 * Math.PI)));
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(parameters.GetParameter( ParameterContainer.ParametersKind.omega), 3)));
        _achievements.Add(Achievement.CreateAchievement(new NumberAchievement(parameters.GetParameter(ParameterContainer.ParametersKind.e), 2.718)));

            -->
            <h2>Tier 1</h2>
            <div class="entry">
              <b>Now it starts to swirl!</b><br>
              r reaches 1K
            </div>
            <div class="entry">
              <b>Fast Spiral</b><br>
              &Delta;r reaches 1K
            </div>
            <div class="entry">
              <b>Small Power</b><br>
              Upgrade k 100 times<br>
              <i>This costs 1.38e5 r</i>
            </div>
            <div class="entry">
              <b>The main character of this game?</b><br>
              Upgrade a 100 times<br>
              <i>This costs 4.81e3 r</i>
            </div>
            <div class="entry">
              <b>The "B" reminds me of Beautiful Voice.</b><br>
              Upgrade b 100 times<br>
              <i>This costs 1.37e5 r</i>
            </div>
            <div class="entry">
              <b>Come on, let's count.</b><br>
              Upgrade c 100 times<br>
              <i>This costs 1.43e7 r</i>
            </div>
            <div class="entry">
              <b>Is dimension 1?</b><br>
              Upgrade d 100 times<br>
              <i>This costs 9.94e8 r</i>
            </div>
            <div class="entry">
              <b>Do you know John Napier?</b><br>
              Upgrade e 100 times<br>
              <i>This costs 5.08e10 r</i>
            </div>
            <div class="entry">
              <b>It's not a function</b><br>
              Upgrade f 100 times<br>
              <i>This costs 7.05e12 r</i>
            </div>
            <div class="entry">
              <b>It's not gravity</b><br>
              Upgrade g 100 times<br>
              <i>This costs 2.10e13 r</i>
            </div>
            <div class="entry">
              <b>This is a new spiral</b><br>
              Do &omega; Prestige for the first time
            </div>
            <div class="entry">
              <b>The first step is important</b><br>
              Upgrade n 1 times
            </div>
            <div class="entry">
              <b>Not just a constant</b><br>
              Upgrade v 10 times
            </div>
            <div class="entry">
              <b>St. Petersburg Paradox</b><br>
              Upgrade u 1 times
            </div>
            <div class="entry">
              <b>Reborn!</b><br>
              Do Prestige for the first time
            </div>
            <div class="entry">
              <b>strong new game</b><br>
              Do T Prestige for the first time
            </div>
            <div class="entry">
              <b>A new dimension to this game</b><br>
              z reaches 100
            </div>
            <div class="entry">
              <b>The spiral is a weapon.</b><br>
              Defeat training
            </div>

            <h2>Tier 2</h2>
            <div class="entry">
              <b>Now it starts to swirl!</b><br>
              r reaches 1B
            </div>
            <div class="entry">
              <b>Cheetah Spiral</b><br>
              &Delta;r reaches 1M
            </div>
            <div class="entry">
              <b>Is it still small?</b><br>
              Upgrade k 500 times<br>
              <i>This costs 4.97e21 r</i>
            </div>
            <div class="entry">
              <b>a is the beginning</b><br>
              Upgrade a 500 times<br>
              <i>This costs 1.87e8 r</i>
            </div>
            <div class="entry">
              <b>basic</b><br>
              Upgrade b 300 times<br>
              <i>This costs 4.63e8 r</i>
            </div>
            <div class="entry">
              <b>Not too hard to make a curve?</b><br>
              Upgrade c 300 times<br>
              <i>This costs 1.50e13 r</i>
            </div>
            <div class="entry">
              <b>Dimension was 2</b><br>
              Upgrade d 300 times<br>
              <i>This costs 9.04e16 r</i>
            </div>
            <div class="entry">
              <b>He discovered the logarithm</b><br>
              Upgrade e 300 times<br>
              <i>This costs 1.77e20 r</i>
            </div>
            <div class="entry">
              <b>It's not completely additive class</b><br>
              Upgrade f 300 times<br>
              <i>This costs 7.75e24 r</i>
            </div>
            <div class="entry">
              <b>It's not Gaussian</b><br>
              Upgrade g 300 times<br>
              <i>This costs 2.43e26 r</i>
            </div>
            <div class="entry">
              <b>Spiral molting</b><br>
              Reach 3rd &omega; prestige
            </div>
            <div class="entry">
              <b>The second step is cautious</b><br>
              Upgrade n 3 times
            </div>
            <div class="entry">
              <b>Sums of sequences are not easy</b><br>
              Upgrade v 20 times
            </div>
            <div class="entry">
              <b>I think of Cantor set</b><br>
              Upgrade u 3 times
            </div>
            <div class="entry">
              <b>Babies grow fast</b><br>
              Earn 100 Prestige Point
            </div>
            <div class="entry">
              <b>Enemies are too weak</b><br>
              Reach T2
            </div>
            <div class="entry">
              <b>You're not a snail anymore</b><br>
              z reaches 1k
            </div>
            <div class="entry">
              <b>Sharp Spiral</b><br>
              Defeat Kappa
            </div>

            <h2>Tier 3</h2>
            <div class="entry">
              <b>triple axel</b><br>
              r reaches 1Qa<br>
              <i>1Qa = 1e15</i>
            </div>
            <div class="entry">
              <b>A sonic spiral</b><br>
              &Delta;r reaches 1T
            </div>
            <div class="entry">
              <b>slow but steady wins the race</b><br>
              Upgrade k 1000 times<br>
              <i>This costs 2.47e42 r</i>
            </div>
            <div class="entry">
              <b>You can't lose to b.</b><br>
              Upgrade a 1000 times<br>
              <i>This costs 9.33e13 r</i>
            </div>
            <div class="entry">
              <b>benefit</b><br>
              Upgrade b 500 times<br>
              <i>This costs 1.54e12 r</i>
            </div>
            <div class="entry">
              <b>Isn't it hard to draw a circle?</b><br>
              Upgrade c 500 times<br>
              <i>This costs 1.57e19 r</i>
            </div>
            <div class="entry">
              <b>No. 3-D?</b><br>
              Upgrade d 500 times<br>
              <i>This costs 8.22e24 r</i>
            </div>
            <div class="entry">
              <b>Decimal inventor</b><br>
              Upgrade e 500 times<br>
              <i>This costs 6.18e29 r</i>
            </div>
            <div class="entry">
              <b>Nor is it the product of mass and acceleration</b><br>
              Upgrade f 500 times<br>
              <i>This costs 8.52e36 r</i>
            </div>
            <div class="entry">
              <b>It's not  group theory</b><br>
              Upgrade g 500 times<br>
              <i>This costs 2.82e39 r</i>
            </div>
            <div class="entry">
              <b>Can you explain angular velocity?</b><br>
              Reach 5th &omega; prestige
            </div>
            <div class="entry">
              <b>third time lucky</b><br>
              Upgrade n 5 times
            </div>
            <div class="entry">
              <b>What is a Cauchy sequence?</b><br>
              Upgrade v 100 times<br>
              <i>This costs 1.27e30 P</i>
            </div>
            <div class="entry">
              <b>Which Bernoulli?</b><br>
              Upgrade u 5 times
            </div>
            <div class="entry">
              <b>Why do people forget?</b><br>
              Earn 10K Prestige Point
            </div>
            <div class="entry">
              <b>Why couldn't we beat that enemy?</b><br>
              Reach T5
            </div>
            <div class="entry">
              <b>I've seen a spiral staircase like this</b><br>
              z reaches 100K
            </div>
            <div class="entry">
              <b>Deadly spiral</b><br>
              Defeat Alpha
            </div>
          </div>
          <div class="explanation" id="explanation_store" style="display: none">
            <div class="title">Store</div>
            Explanation store
          </div>
          <div class="explanation" id="explanation_battle_spiral" style="display: none">
            <div class="title">Battle Spiral</div>
            unlocked upon reaching the second $\omega$ tier for the first time. This is currently by far the most important part of the game.<br>

            There are currently 8 tiers of normal enemies;<br>
            <br>
            $\text{HP} = \text{base HP} * \text{Enemy HP Reduction Add} / 100 * (1 + 5\% * \text{Decay})^{\text{difficulty}}$<br>
            $\text{ATK} = \text{base ATK} * (1 + 3\% * \text{Decay})^{\text{difficulty}}$<br>
            $\text{DEF} = \text{base DEF} * (1 + 1\% * \text{Decay})^{\text{difficulty}}$<br>
            <br>
            In the Fury Challenge, this is changed to:<br>
            $\text{ATK} = \text{base ATK} * (1 + 50\% * \text{Decay})^{\text{difficulty}}$<br>
            $\text{Attack Speed} = \text{Attack Speed} * \min(1 + 1.5\% * \text{Fury})^{\text{difficulty}}, 7.5)$<br>
            <br>

            <div class="entry">
              <h3>Training</h3>
              <b>Base HP:</b> $100$<br>
              <b>Base ATK:</b> $3$<br>
              <b>Base DEF:</b> $1$<br>
              <b>Attack Speed:</b> $0.3$<br>
            </div>
            <div class="entry">
              <h3>Kappa</h3>
              <b>Base HP:</b> $7000$<br>
              <b>Base ATK:</b> $50$<br>
              <b>Base DEF:</b> $30$<br>
              <b>Attack Speed:</b> $0.5$<br>
            </div>
            <div class="entry">
              <h3>Alpha</h3>
              <b>Base HP:</b> $10^5$<br>
              <b>Base ATK:</b> $1000$<br>
              <b>Base DEF:</b> $200$<br>
              <b>Attack Speed:</b> $0.5$<br>
              15 rewards
            </div>
            <div class="entry">
              <h3>Beta</h3>
              <b>Base HP:</b> $10^8$<br>
              <b>Base ATK:</b> $10^5$<br>
              <b>Base DEF:</b> $1000$<br>
              <b>Attack Speed:</b> $0.1$<br>
            </div>
            <div class="entry">
              <h3>Pi</h3>
              <b>Base HP:</b> $10^{11}$<br>
              <b>Base ATK:</b> $10^5$<br>
              <b>Base DEF:</b> $10^4$<br>
              <b>Attack Speed:</b> $0.05$<br>
            </div>
            <div class="entry">
              <h3>Gamma</h3>
              <b>Base HP:</b> 5*10^{14}<br>
              <b>Base ATK:</b> $10^6$<br>
              <b>Base DEF:</b> $10^5$<br>
              <b>Attack Speed:</b> $0.03$<br>
            </div>
            <div class="entry">
              <h3>Napier</h3>
              <b>Base HP:</b> $2.718*10^{18}$<br>
              <b>Base ATK:</b> $2.718*10^8$<br>
              <b>Base DEF:</b> $2.718*10^8$<br>
              <b>Attack Speed:</b> $0.027$<br>
            </div>
            <div class="entry">
              <h3>Penta</h3>
              <b>Base HP:</b> $5.55*10^{23}$<br>
              <b>Base ATK:</b> $5.55*10^{15}$<br>
              <b>Base DEF:</b> $5.55*10^{15}$<br>
              <b>Attack Speed:</b> $0.5$<br>
            </div>

            Currently without unlock condition; after the normal enemies, you unlock the 3 raid enemies;<br>
            <br>
            $\text{HP} = \text{base HP} * \text{Enemy HP Reduction Add} / 100 * (1 + 250\% * \text{Decay})^{\text{difficulty}} * \text{towerGrowthReduction}$<br>
            $\text{ATK} = \text{base ATK} * (1 + 250\% * \text{Decay})^{\text{difficulty}} * \text{towerGrowthReduction}$<br>
            $\text{DEF} = \text{base DEF} * (1 + 250\% * \text{Decay})^{\text{difficulty}} * \text{towerGrowthReduction}$<br>

            <div class="entry unavailable">
              <h3>Spiral Tower</h3>
              <b>Base HP:</b> $10^{36}$<br>
              <b>Base ATK:</b> $10^{21}$<br>
              <b>Base Damage Cut Rate:</b> $0.5$<br>
              <b>Attack Speed:</b> $0.3$<br>
            </div>
            <div class="entry unavailable">
              <h3>Math Tower</h3>
              <b>Base HP:</b> $3.33*10^{40}$<br>
              <b>Base ATK:</b> $5*10^{28}$<br>
              <b>Base Damage Cut Rate:</b> $0.9$<br>
              <b>Attack Speed:</b> $0.02$<br>
              <b>Raid Damage Bonus:</b> $600 * timerMultiplier$<br>
              <b>Restriction:</b> $\text{Max HP}$ and $\text{Attack Speed}$ are reduced by a factor of $\min(1, \text{Math Skill} / 10^7)$<br>
            </div>
            <div class="entry unavailable">
              <h3>Inverse Tower</h3>
              <b>Base HP:</b> $7*10^{55}$<br>
              <b>Base ATK:</b> $0$<br>
              <b>Base Damage Cut Rate:</b> $0.95$<br>
              <b>Attack Speed:</b> $0.02$<br>
              <b>Raid Damage Bonus:</b> $1800 * timerMultiplier$<br>
              <b>Restriction:</b> $\text{ATK}$ and $\text{DEF}$ are swapped<br>
            </div>
          </div>
          <div class="explanation" id="explanation_battle_upgrades" style="display: none">
            <div class="title">Battle Upgrades</div>
            Battle Upgrades can be upgraded using $\text{EXP}$. All upgrade costs scale as; $\text{base} * 1.05^{\text{level}}$<br>

            <div class="entry">
              <b>Upgrade of Parameters</b><br>
              <table>
                <tr><th># </th><th>Effect                                                                   </th></tr>
                <tr><td> 1</td><td>$\text{HP} \mathrel{{*}{=}} 1 + 1\% * \text{level}$                      </td></tr>
                <tr><td> 2</td><td>$\text{ATK} \mathrel{{*}{=}} 1 + 1\% * \text{level}$                     </td></tr>
                <tr><td> 3</td><td>$\text{DEF} \mathrel{{*}{=}} 1 + 1\% * \text{level}$                     </td></tr>
                <tr><td> 4</td><td>$\text{Regenerate} \mathrel{{*}{=}} 1 + 1\% * \text{level}$              </td></tr>
                <tr><td> 8</td><td>$\text{Critical Rate}\ \mathrel{{+}{=}}^*\ 0.1\% * \text{level}$         </td></tr>
                <tr><td> 9</td><td>$\text{Critical Damage} \mathrel{{*}{=}} 1 + 1\% * \text{level}$         </td></tr>
                <tr><td>11</td><td>$\text{Enemy HP Reduction Add} \mathrel{{-}{=}} 0.1 * \text{level}$      </td></tr>
                <tr><td>12</td><td>$\text{Regenerate while resting} \mathrel{{*}{=}} 1 + 1\% * \text{level}$</td></tr>
                <tr><td>13</td><td>$\text{Attack Speed} \mathrel{{*}{=}} 1 + 0.1\% * \text{level}$          </td></tr>
                <tr><td>14</td><td>$\text{HP} \mathrel{{*}{=}} 1 + 5\% * \text{level}$                      </td></tr>
                <tr><td>15</td><td>$\text{ATK} \mathrel{{*}{=}} 1 + 5\% * \text{level}$                     </td></tr>
                <tr><td>16</td><td>$\text{DEF} \mathrel{{*}{=}} 1 + 5\% * \text{level}$                     </td></tr>
                <tr><td>17</td><td>$\text{Regenerate} \mathrel{{*}{=}} 1 + 5\% * \text{level}$              </td></tr>
                <tr><td>22</td><td>$\text{Critical Rate} \mathrel{{+}{=}}^* 0.2\% * \text{level}$           </td></tr>
                <tr><td>23</td><td>$\text{Critical Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$         </td></tr>
                <tr><td>24</td><td>$\text{Attack Speed} \mathrel{{*}{=}} 1 + 0.5\% * \text{level}$          </td></tr>
                <tr><td>34</td><td>$\text{HP} \mathrel{{*}{=}} 1 + 10\% * \text{level}$                     </td></tr>
                <tr><td>35</td><td>$\text{ATK} \mathrel{{*}{=}} 1 + 10\% * \text{level}$                    </td></tr>
                <tr><td>36</td><td>$\text{DEF} \mathrel{{*}{=}} 1 + 10\% * \text{level}$                    </td></tr>
                <tr><td>41</td><td>$\text{Rare Drop Chance} \mathrel{{*}{=}} 1 + 0.1\% * \text{level}$      </td></tr>
              </table>
            </div>
            <div class="entry">
              <b>Upgrade of Rewards</b><br>
              <table>
                <tr><th># </th><th>Effect                                                                   </th></tr>
                <tr><td> 5</td><td>$\text{HP Reward} \mathrel{{+}{=}} \text{level}$                         </td></tr>
                <tr><td> 6</td><td>$\text{ATK Reward} \mathrel{{+}{=}} \text{level}$                        </td></tr>
                <tr><td> 7</td><td>$\text{DEF Reward} \mathrel{{+}{=}} \text{level}$                        </td></tr>
                <tr><td>10</td><td>$\text{EXP Reward} \mathrel{{+}{=}} \text{level}$                        </td></tr>
                <tr><td>18</td><td>$\text{HP Reward} \mathrel{{*}{=}} 1 + 5\% * \text{level}$               </td></tr>
                <tr><td>19</td><td>$\text{ATK Reward} \mathrel{{*}{=}} 1 + 5\% * \text{level}$              </td></tr>
                <tr><td>20</td><td>$\text{DEF Reward} \mathrel{{*}{=}} 1 + 5\% * \text{level}$              </td></tr>
                <tr><td>21</td><td>$\text{EXP Reward} \mathrel{{*}{=}} 1 + 5\% * \text{level}$              </td></tr>
                <tr><td>30</td><td>Increase the $\text{ATK}$ and $\text{DEF}$ rolls for $\text{PI}$         </td></tr>
                <tr><td>31</td><td>Increase the $\text{EXP}$ rolls for $\text{Gamma}$                       </td></tr>
                <tr><td>32</td><td>Increase the $\text{S-Critical Damage}$ rolls for $\text{Napier}$        </td></tr>
                <tr><td>37</td><td>$\text{HP Reward} \mathrel{{*}{=}} 1 + 10\% * \text{level}$              </td></tr>
                <tr><td>38</td><td>$\text{ATK Reward} \mathrel{{*}{=}} 1 + 10\% * \text{level}$             </td></tr>
                <tr><td>39</td><td>$\text{DEF Reward} \mathrel{{*}{=}} 1 + 10\% * \text{level}$             </td></tr>
                <tr><td>40</td><td>$\text{EXP Reward} \mathrel{{*}{=}} 1 + 10\% * \text{level}$             </td></tr>
              </table>
            </div>
            <div class="entry">
              <b>Unlock</b><br>
              <table>
                <tr><th># </th><th>Effect                                                                   </th></tr>
                <tr><td>26</td><td>Unlock the spiral equation $\text{khuwarizmi}$                           </td></tr>
                <tr><td>27</td><td>Unlock the spiral equation $\text{omar}$                                 </td></tr>
                <tr><td>28</td><td>Unlock the spiral equation $\text{bhaskara}$                             </td></tr>
                <tr><td>29</td><td>Unlock the spiral equation $\text{madhava}$                              </td></tr>
              </table>
            </div>
            <div class="entry">
              <b>Others</b><br>
              <table>
                <tr><th># </th><th>Effect                                                                   </th></tr>
                <tr><td>25</td><td>Increase the maximum level of upgrades 1 through 24 by 1                 </td></tr>
                <tr><td>33</td><td>$\text{Math Skill} +100$                                                 </td></tr>
                <tr><td>41</td><td>Increase the maximum level of upgrades 30 through 41 by 1                </td></tr>
              </table>
            </div>
          </div>
          <div class="explanation" id="explanation_battle_reward_candidates" style="display: none">
            <div class="title">Battle Rewards</div>

            The rewards shown are still subject to the special reward improvements.<br>
            All but the last tile rewards also increase with the $\text{Reward Multiplier};$<br>
            $\text{Reward Multiplier} = 0.98 + 2 / (1 + 99 / e ^ {1.9956 * \text{difficulty} / 200})$<br>
            For the sake of late game, you could see this as $690142.52\%$ total reward for the first 2625 stages, and a static $298\%$ per stage afterwards.<br>
            Because rerolling resets this $\text{Reward Multiplier}$, it is best to continue as long as you kill the enemy in on average $2.98$ hits.<br>
            This will be the case as long as you can one-hit crit an enemy and have at least a crit rate of $33.557\%$.<br>
            <b>TODO:</b> add a calculation for the optimal auto-start state based on savefile stats.

            <div class="entry">
              <h3>Training</h3>
              10 rewards
              <table>
                <tr>                        <th>Reward                            </th><th>Weight</th></tr>
                <tr class="reward-uncommon"><td>$a + 0.001$                       </td><td>  $11$</td></tr>
                <tr class="reward-rare">    <td>$b + 0.001$                       </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$c + 0.001$                       </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$d + 0.001$                       </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$e + 0.001$                       </td><td>   $1$</td></tr>
                <tr class="reward-common">  <td>$\text{ATK} + [1,2]$              </td><td> $400$</td></tr>
                <tr class="reward-common">  <td>$k + [1,9]$                       </td><td>  $50$</td></tr>
                <tr class="reward-common">  <td>$\text{HP} + [1,9]$               </td><td>$3000$</td></tr>
                <tr class="reward-rare">    <td>$\text{Exp} + 1$                  </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$\text{Regen} + 1$                </td><td>  $10$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Thales}\ /\ \text{Exp} + 1$</td><td>      </td></tr>
                <tr>                        <td>                                  </td><td>$3476$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Kappa</h3>
              10 rewards
              <table>
                <tr>                        <th>Reward                             </th><th>Weight</th></tr>
                <tr class="reward-uncommon"><td>$a + 0.01$                         </td><td>  $10$</td></tr>
                <tr class="reward-rare">    <td>$b + 0.001$                        </td><td>   $5$</td></tr>
                <tr class="reward-rare">    <td>$c + 0.001$                        </td><td>   $5$</td></tr>
                <tr class="reward-rare">    <td>$d + 0.001$                        </td><td>   $5$</td></tr>
                <tr class="reward-rare">    <td>$e + 0.001$                        </td><td>   $5$</td></tr>
                <tr class="reward-common">  <td>$k + [1,2]$                        </td><td>$1000$</td></tr>
                <tr class="reward-rare">    <td>$k\% + 1\%*[1,2]$                  </td><td>   $1$</td></tr>
                <tr class="reward-uncommon"><td>$\text{ATK} + [1,9]$               </td><td>  $10$</td></tr>
                <tr class="reward-uncommon"><td>$\text{DEF} + [1,9]$               </td><td>  $30$</td></tr>
                <tr class="reward-rare">    <td>$\text{Exp} + [1,2]$               </td><td>   $3$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Hypatia}\ /\ \text{Exp} + 2$</td><td>      </td></tr>
                <tr>                        <td>                                   </td><td>$1074$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Alpha</h3>
              15 rewards
              <table>
                <tr>                        <th>Reward                                 </th><th>Weight</th></tr>
                <tr class="reward-rare">    <td>$\text{ATK} + 100$                     </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$a + 1$                                </td><td>   $1$</td></tr>
                <tr class="reward-common">  <td>$\text{ATK} + 2*[1,4]$                 </td><td> $100$</td></tr>
                <tr class="reward-common">  <td>$\text{HP} + 5*[1,4]$                  </td><td>$1000$</td></tr>
                <tr class="reward-common">  <td>$a + 0.1*[1,9]$                        </td><td>$1000$</td></tr>
                <tr class="reward-uncommon"><td>$a\% + 0.1\%*[1,19]$                   </td><td>  $50$</td></tr>
                <tr class="reward-rare">    <td>$\text{HP}\% + 1\%*[1,9]$              </td><td>   $5$</td></tr>
                <tr class="reward-rare">    <td>$\text{ATK}\% + 1\%*[1,9]$             </td><td>   $5$</td></tr>
                <tr class="reward-rare">    <td>$\text{Exp} + [1,9]$                   </td><td>   $5$</td></tr>
                <tr class="reward-uncommon"><td>$\text{ATK} + 3*[4,8]$                 </td><td>  $30$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Archimedes}\ /\ \text{Exp} + 10$</td><td>      </td></tr>
                <tr>                        <td>                                       </td><td>$2197$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Beta</h3>
              20 rewards
              <table>
                <tr>                        <th>Reward                                 </th><th> Weight</th></tr>
                <tr class="reward-rare">    <td>$a + 0.1*[1,10]$                       </td><td>    $5$</td></tr>
                <tr class="reward-rare">    <td>$c + 0.01*[1,4]$                       </td><td>    $1$</td></tr>
                <tr class="reward-rare">    <td>$d + 0.01*[1,4]$                       </td><td>    $1$</td></tr>
                <tr class="reward-rare">    <td>$e + 0.01*[1,4]$                       </td><td>    $1$</td></tr>
                <tr class="reward-uncommon"><td>$\text{DEF} + 50*[1,4]$                </td><td>   $50$</td></tr>
                <tr class="reward-rare">    <td>$b + 0.2*[1,4]$                        </td><td>    $5$</td></tr>
                <tr class="reward-common">  <td>$k + 10*[1,4]$                         </td><td> $1000$</td></tr>
                <tr class="reward-common">  <td>$\text{DEF} + 5*[1,4]$                 </td><td> $2000$</td></tr>
                <tr class="reward-common">  <td>$\text{HP} + 20*[1,4]$                 </td><td>$10000$</td></tr>
                <tr class="reward-common">  <td>$b + 0.01*[1,19]$                      </td><td> $2000$</td></tr>
                <tr class="reward-uncommon"><td>$\text{DEF}\% + 1\%*[1,4]$             </td><td>   $50$</td></tr>
                <tr class="reward-uncommon"><td>$\text{HP}\% + 1\%*[1,4]$              </td><td>   $50$</td></tr>
                <tr class="reward-rare">    <td>$b\% + 1\%*[1,19]$                     </td><td>    $5$</td></tr>
                <tr class="reward-uncommon"><td>$\text{ATK} + 100*[1,4]$               </td><td>   $50$</td></tr>
                <tr class="reward-common">  <td>$\text{ATK} + 20*[1,4]$                </td><td> $1000$</td></tr>
                <tr class="reward-uncommon"><td>$\text{Exp} + [1,29]$                  </td><td>   $30$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Pythagoras}\ /\ \text{Exp} + 30$</td><td>       </td></tr>
                <tr>                        <td>                                       </td><td>$16248$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Pi</h3>
              10 rewards
              <table>
                <tr>                       <th>Reward                                               </th><th> Weight</th></tr>
                <tr class="reward-common"> <td>$c + 0.1*[1,9]$                                      </td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$c\% + 0.1\%*[1,4]$                                  </td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$\text{HP} + 1000*[1,9]$                             </td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$\text{DEF} + 500*[1,9 + \text{atk_and_def_from_pi}]$</td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$\text{ATK} + 500*[1,9 + \text{atk_and_def_from_pi}]$</td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$\text{HP}\% + 1\%*[1,4]$                            </td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$\text{DEF}\% + 1\%*[1,4]$                           </td><td>$10000$</td></tr>
                <tr class="reward-common"> <td>$\text{ATK}\% + 1\%*[1,4]$                           </td><td>$10000$</td></tr>
                <tr class="reward-onetime"><td>$\text{Euclides}\ /\ \text{Exp} + 100$               </td><td>       </td></tr>
                <tr>                       <td>                                                     </td><td>$80000$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Gamma</h3>
              10 rewards
              <table>
                <tr>                        <th>Reward                                       </th><th>Weight</th></tr>
                <tr class="reward-rare">    <td>$\gamma\% + 0.1\%*[1,2]$                     </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$\delta\% + 0.1\%*[1,2]$                     </td><td>   $1$</td></tr>
                <tr class="reward-rare">    <td>$\Omega\% + 0.1\%*[1,2]$                     </td><td>   $1$</td></tr>
                <tr class="reward-common">  <td>$\gamma + 0.1*[1,9]$                         </td><td>$3000$</td></tr>
                <tr class="reward-common">  <td>$\delta + 0.1*[1,9]$                         </td><td>$3000$</td></tr>
                <tr class="reward-common">  <td>$\Omega + 0.1*[1,9]$                         </td><td>$3000$</td></tr>
                <tr class="reward-rare">    <td>$\text{Attack Speed} + 0.25\%$               </td><td>  $10$</td></tr>
                <tr class="reward-common">  <td>$d + 0.1*[1,9]$                              </td><td>$1000$</td></tr>
                <tr class="reward-common">  <td>$d\% + 0.1\%*[1,4]$                          </td><td>$1000$</td></tr>
                <tr class="reward-uncommon"><td>$\text{Exp} + [1,49+5*\text{exp_from_gamma}]$</td><td>  $20$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Eratos}\ /\ \text{Exp} + 50$          </td><td>       </td></tr>
                <tr>                        <td>                                             </td><td>$11033$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Napier</h3>
              15 rewards
              <table>
                <tr>                        <th>Reward                                                          </th><th> Weight</th></tr>
                <tr class="reward-common">  <td>$\text{Crit Damage} + 0.1\%*[1,49]$                             </td><td> $1000$</td></tr>
                <tr class="reward-uncommon"><td>$\text{Crit Damage} + 3\%$                                      </td><td>   $10$</td></tr>
                <tr class="reward-rare">    <td>$\text{S-Crit Damage} + 1\%*[1,3+\text{s_critical_from_napier}]$</td><td>   $10$</td></tr>
                <tr class="reward-common">  <td>$e + 0.1*[5,49]$                                                </td><td> $1000$</td></tr>
                <tr class="reward-common">  <td>$e + 0.1*[3,19]$                                                </td><td> $1000$</td></tr>
                <tr class="reward-common">  <td>$e\% + 0.1\%*[1,4]$                                             </td><td> $1000$</td></tr>
                <tr class="reward-common">  <td>$\text{HP} + 10000*[1,9]$                                       </td><td>$10000$</td></tr>
                <tr class="reward-common">  <td>$\text{DEF} + 5000*[1,9]$                                       </td><td>$10000$</td></tr>
                <tr class="reward-common">  <td>$\text{ATK} + 5000*[1,9]$                                       </td><td>$10000$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Aryabhata}\ /\ \text{Exp} + 100$                         </td><td>       </td></tr>
                <tr>                        <td>                                                                </td><td>$34020$</td></tr>
              </table>
            </div>
            <div class="entry">
              <h3>Penta</h3>
              5 rewards
              <table>
                <tr>                        <th>Reward                                   </th><th>Weight</th></tr>
                <tr class="reward-common">  <td>$\text{S-Crit Damage} + 10\%*[1,9]$      </td><td>$1000$</td></tr>
                <tr class="reward-common">  <td>$\text{Crit Damage} + 2\%*[1,9]$         </td><td>$1000$</td></tr>
                <tr class="reward-uncommon"><td>$\text{S-Crit Damage} + 100\%*[10,29]$   </td><td>  $50$</td></tr>
                <tr class="reward-uncommon"><td>$\text{Crit Damage} + 20\%*[10,29]$      </td><td>  $50$</td></tr>
                <tr class="reward-rare">    <td>$\text{Rare Chance} + 0.01\%*[1,9]$      </td><td>  $20$</td></tr>
                <tr class="reward-common">  <td>$\text{Math Skill} + 1$                  </td><td>$1000$</td></tr>
                <tr class="reward-rare">    <td>$\text{Math Skill} + [10,29]$            </td><td>  $10$</td></tr>
                <tr class="reward-onetime"> <td>$\text{Brahmagupta}\ /\ \text{Exp} + 100$</td><td>      </td></tr>
                <tr>                        <td>                                         </td><td>$3130$</td></tr>
              </table>
            </div>
            <div class="entry unavailable">
              <h3>Spiral Tower</h3>
              20 rewards
              <table>
                <tr>                       <th>Reward                  </th><th>Weight</th></tr>
                <tr class="reward-common"> <td>$\text{Inspiration} + 1$</td><td>$1000$</td></tr>
                <tr class="reward-common"> <td>$\text{Exp} + 10*[1,9]$ </td><td>$1000$</td></tr>
                <tr class="reward-onetime"><td>$$\begin{cases}
                  \text{Random Theory Soul} + 2 + \log_{10}(\text{difficulty}), & \text{if difficulty is a multiple of 10}\\
                  \text{Exp} + 50*[1,9]$, & \text{otherwise}
                \end{cases}$$</td><td></td></tr>
                <tr>                       <td>                        </td><td>$2000$</td></tr>
              </table>
            </div>
            <div class="entry unavailable">
              <h3>Math Tower</h3>
              <table>
                <tr>                        <th>Reward                          </th></tr>
                <tr class="reward-uncommon"><td>$\text{ATK}_2 + 1\%$           </td></tr>
                <tr class="reward-uncommon"><td>$\text{ATK}_2 + 1.5\%$           </td></tr>
                <tr class="reward-uncommon"><td>$\text{DEF}_2 + 2\%$           </td></tr>
                <tr class="reward-uncommon"><td>$\text{HP}_2 + 2.5\%$            </td></tr>
                <tr class="reward-rare">    <td>$\text{The Soul of Fourier} + 1$</td></tr>
                <tr>                        <td>                                </td></tr>
              </table>
            </div>
            <div class="entry unavailable">
              <h3>Inverse Tower</h3>
              <table>
                <tr>                        <th>Reward                                                    </th></tr>
                <tr class="reward-uncommon"><td>$$\begin{cases}
                  \text{Crit Rate} + 0.005, & \text{Crit Rate from battle rewards} \lt 10\%\\
                  \text{Critical Damage} + 15, & \text{otherwise}
                \end{cases}$$</td></tr>
                <tr class="reward-uncommon"><td>$\text{EXP} + 20000$                                      </td></tr>
                <tr class="reward-uncommon"><td>$$\begin{cases}
                  \text{S-Crit Rate} + 0.05, & \text{S-Crit Rate from battle rewards} \lt 5\%\\
                  \text{S-Critical Damage} + 10, & \text{otherwise}
                \end{cases}$$</td></tr>
                <tr class="reward-uncommon"><td>$\text{Math Skill} + 1000$                                </td></tr>
                <tr class="reward-rare">    <td>$\text{The Soul of Laplace} + 1$                          </td></tr>
                <tr>                        <td>                                                          </td></tr>
              </table>
            </div>
          </div>
          <div class="explanation" id="explanation_spiral_equations" style="display: none">
            <div class="title">Spiral Equations</div>
            Spiral Equations are unlocked at tornado tier 4. Upon unlocking, all enemies will display a onetime reward as their last reward, taking the place of the standard exp reward. You can select up to two equations at the start to level. You gain the ability to select an additional equation from the 'kanji' spiral design passive.<br>
            <br>
            While an equation is selected, it will build up exp based on your spiral equation speed. Once the exp has crossed the 'cost' of the next level, the equation will level up.

            <div class="entry">
              <h3>I: Thales</h3>
              <b>Unlock:</b> Training<br>
              <b>Cost:</b> $10 * 1.03^{\text{level}}$<br>
              <b>Reward:</b> $\text{HP} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>II: Hypatia</h3>
              <b>Unlock:</b> Kappa<br>
              <b>Cost:</b> $30 * 1.03^{\text{level}}$<br>
              <b>Reward:</b> $\text{DEF} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>III: Archimedes</h3>
              <b>Unlock:</b> Alpha<br>
              <b>Cost:</b> $60 * 1.03^{\text{level}}$<br>
              <b>Reward:</b> $\text{ATK} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>IV: Pythagoras</h3>
              <b>Unlock:</b> Beta<br>
              <b>Cost:</b> $120 * 1.03^{\text{level}}$<br>
              <b>Reward:</b> $\text{Critical Damage} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>V: Euclides</h3>
              <b>Unlock:</b> Pi<br>
              <b>Cost:</b> $150 * 1.03^{\text{level}}$<br>
              <b>Reward:</b> $\text{Critical Rate} \mathrel{{*}{=}} 1 + 0.1\% * \text{level} + 0.01\% * [\text{level}-50]$
            </div>
            <div class="entry">
              <h3>VI: Eratos</h3>
              <b>Unlock:</b> Gamma<br>
              <b>Cost:</b> $180 * 1.06^{\text{level}}$<br>
              <b>Reward:</b> $\text{Attack Speed} \mathrel{{*}{=}} 1 + 1\% * \log_{10}(\text{level} + 1)$
            </div>
            <div class="entry">
              <h3>VII: Aryabhata</h3>
              <b>Unlock:</b> Napier<br>
              <b>Cost:</b> $210 * 1.07^{\text{level}}$<br>
              <b>Reward:</b> $\text{Super Critical Rate} \mathrel{{+}{=}} 1\% * \log_{10}(\text{level} + 1)$
            </div>
            <div class="entry">
              <h3>VIII: Brahmagupta</h3>
              <b>Unlock:</b> Penta<br>
              <b>Cost:</b> $240 * 1.1^{\text{level}}$<br>
              <b>Reward:</b> $\text{Equation Speed} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>IX: Khuwarizmi</h3>
              <b>Unlock:</b> Battle upgrade 26<br>
              <b>Cost:</b> $100 * 1.05^{\text{level}}$<br>
              <b>Reward:</b> $\text{HP Reward} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>X: Omar</h3>
              <b>Unlock:</b> Battle upgrade 27<br>
              <b>Cost:</b> $100 * 1.05^{\text{level}}$<br>
              <b>Reward:</b> $\text{ATK Reward} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>XI: Bhaskara</h3>
              <b>Unlock:</b> Battle upgrade 28<br>
              <b>Cost:</b> $100 * 1.05^{\text{level}}$<br>
              <b>Reward:</b> $\text{DEF Reward} \mathrel{{*}{=}} 1 + 1\% * \text{level} + 0.1\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3>XII: Madhava</h3>
              <b>Unlock:</b> Battle upgrade 29<br>
              <b>Cost:</b> $500 * 1.1^{\text{level}}$<br>
              <b>Reward:</b> $\text{EXP Reward} \mathrel{{*}{=}} 1 + 0.05\% * \text{level} + 0.005\% * [\text{level}-1000]$
            </div>
            <div class="entry">
              <h3 class="unavailable">XIII: Bartolomeo</h3>
            </div>
            <div class="entry">
              <h3 class="unavailable">XIV: Cardano</h3>
            </div>
          </div>
          <div class="explanation" id="explanation_challenges" style="display: none">
            <div class="title">Challenges</div>

            First group:

            <div class="challenge">
              I: Basic Challenge<br>
              Goal: $9.99 * 10^{14} * 10^{\text{level}}$<br>
              Max level: 10<br>
              First Clear Reward: Nothing<br>
              Complete Bonus: Get Spiral Design "Pi"<br>
              Reward: $\Delta r \mathrel{{*}{=}} 1 + 0.5 * \text{level}$
            </div>
            <div class="challenge">
              II: Drunk Challenge<br>
              Goal: $9.99 * 10^{20} * (10^3)^{\text{level}}$<br>
              Every second, $\omega$ gets set to a random number;<br>
              Level 1: [0.1, 5)<br>
              Level 2: [0.05, 3)<br>
              Level 3: [0.03, 2)<br>
              Level 4: [0.02, 1)<br>
              Level 5: [0.01, 0.5)<br>
              Level +: [0.001, 0.1)<br>
              You fail if $r$ reaches 0 after 10 seconds<br>
              Max level: 5<br>
              Complete Bonus: Get Spiral Design "Diamond"<br>
              Reward: $omegaExponent \mathrel{{+}{=}} 0.1 * \text{level}$
            </div>
            <div class="challenge unavailable">
              Drain Challenge<br>
              Goal: $t \geq 600$<br>
              Start with $r = 10^6$<br>
              Adds a variable $t$ that represents your time in the challenge in seconds<br>
              $r \mathrel{{-}{=}} 10^4 * 10^{\text{level}} * (1 - 0.001 * t)$<br>
              You fail if $r$ reaches 0 after 10 seconds<br>
              You cannot prestige<br>
              Max level: 5<br>
              First Clear Reward: Skip one $\omega$ Prestige Progress<br>
              Reward: $tornado\_cost\_reduction \mathrel{{-}{=}} 0.1 * \text{level}$
            </div>
            <div class="challenge">
              III : Flower Challenge<br>
              Goal: $9.99 * 10^{14} * (10^3)^{\text{level}}$<br>
              Adds a variable $t$ that represents your time in the challenge in seconds<br>
              After 10 seconds; $\Delta r \mathrel{{+}{=}} \sin(3t) * 0.1 * t * (1.01 + 0.01 * \text{level}) ^ t$<br>
              You fail if $r$ reaches 0 after 10 seconds<br>
              You cannot prestige<br>
              Max level: 5<br>
              First Clear Reward: Skip one $\omega$ Prestige Progress<br>
              Complete Bonus: Get Spiral Design "Rainbow"<br>
              Reward: $prestige\_level\_limit \mathrel{{+}{=}} \text{level}$
            </div>
            <div class="challenge">
              IV: Slow Spiral Challenge<br>
              Goal: $9.99 * 10^{26}$<br>
              $\omega \mathrel{{*}{=}} 0.01 * 0.1^{\text{level}}$<br>
              Max level: 5<br>
              First Clear Reward: Skip one $\omega$ Prestige Progress<br>
              Complete Bonus: Get Spiral Design "kanji"<br>
              Reward: $\omega \mathrel{{*}{=}} 1 + 0.1 * \text{level}$
            </div>
            <div class="challenge unavailable">
              Gear Challenge<br>
              Goal: $10^{12}$<br>
              After 10 seconds; alterates between $\Delta r \mathrel{{*}{=}} 11$ and $\Delta r \mathrel{{*}{=}} -9$ every second. <br>
              You fail if $r$ reaches 0<br>
              You cannot prestige<br>
              Max level: 5
            </div>
            <div class="challenge">
              V: Gluttony Challenge<br>
              Goal: Reach a specific difficulty;<br>
              Level 1: Reach Training difficulty 200<br>
              Level 2: Reach Kappa difficulty 250<br>
              Level 3: Reach Alpha difficulty 300<br>
              Level 4: Reach Beta difficulty 350<br>
              Level 5: Reach Gamma difficulty 400<br>
              Doesn't reset on prestige<br>
              Max level: 5<br>
              Complete Bonus: Get +1 Multiattack<br>
              Reward: $\text{ATK}, \text{HP}, \text{DEF} \mathrel{{*}{=}} 1 + 0.2 * \text{level}$
            </div>
            <div class="challenge">
              VI: Straight Line Challenge<br>
              Goal: $9.99 * 10^{29} * (10^3)^{\text{level}}$<br>
              $\omega \mathrel{{*}{=}} 0$<br>
              $k \mathrel{{+}{=}} 1$<br>
              $k \mathrel{{*}{=}} 100$<br>
              Max level: 5<br>
              First Clear Reward: Skip one $\omega$ Prestige Progress<br>
              Complete Bonus: Get Spiral Design "Rahmen"<br>
              Reward: $k \mathrel{{*}{=}} 1 + \text{level}$
            </div>
            <div class="challenge">
              VII: Poor Math Challenge<br>
              Goal: $9.99 * 10^{35} * (10^3)^{\text{level}}$<br>
              $A_1 = a + b + c + d + e + f + g$<br>
              Max level: 5<br>
              First Clear Reward: Skip one $\omega$ Prestige Progress<br>
              Reward: $\Delta r \mathrel{{*}{=}} \text{Some horrendous formula}$
            </div>
            <div class="challenge">
              VIII: No Rebirth Challenge<br>
              Goal: $9.99 * 10^{38} * (10^3)^{\text{level}}$<br>
              You cannot prestige<br>
              Max level: 5<br>
              Complete Bonus: Get Spiral Design "Qinghai wave"<br>
              Reward: $automation\_interval \mathrel{{*}{=}} 0.5^{\text{level}}$
            </div>
            <div class="challenge">
              IX: Sinkhole Challenge<br>
              Goal: $10^{64} * (10^3)^{\text{level}}$<br>
              Adds a variable $t$ that increases every second, but gets reset to 0 when $r \lt 10^{12}$<br>
              If $r \gt 10^{12}$; $\Delta r \mathrel{{*}{=}} (0.9 - 0.05 * level)^{\log{r} - 12} * (1 + 0.01 * t)^{-1}$<br>
              Max level: 5<br>
              Complete Bonus: Get Spiral Design "Cloisonne"<br>
              Reward: $\Delta r \mathrel{{*}{=}} 1 + \ln(t / 13 + 1) / \ln(10 - \text{level})$
            </div>
            <div class="challenge">
              X: Sphere Challenge<br>
              Goal: $10^{74} * (10^3)^{\text{level}}$<br>
              $\Delta z$<br>
              Max level: 5<br>
              First Clear Reward: $z\_reactor\_exp \mathrel{{*}{=}} 2$<br>
              Complete Bonus: Get Spiral Design "Lam&eacute;"<br>
              Reward: $z\_reactor\_cap \mathrel{{*}{=}} 1 + 0.05 * \text{level}$
            </div>
            <div class="challenge">
              IX: Fury Challenge<br>
              Goal: Reach difficulty 500 with amplified stats;<br>
              $\text{enemy atk} = \text{base} * (1 + 0.5 * \text{decay}) ^ {\text{difficulty}}$<br>
              $\text{enemy atkSpeed} = \text{base} * (1 + 0.015 * \text{difficulty})$, capped at $* 7.5$<br>
              Level 1: Training<br>
              Level 2: Kappa<br>
              Level 3: Alpha<br>
              Level 4: Beta<br>
              Level 5: Gamma<br>
              Level 6: Napier<br>
              Doesn't reset on prestige<br>
              Max level: 6<br>
              Complete Bonus: Get +2 Multiattack<br>
              Reward: $enemy\_growth\_reduction \mathrel{{*}{=}} 0.95^{\text{level}}$
            </div>

            Second group:

            <div class="challenge unavailable">
              I: Lava Challenge<br>
              Goal: $10^{86} * (10^3)^{\text{level}}$<br>
              Adds a variable $t$ that represents your time in the challenge in seconds<br>
              $\text{radius} = t * (1.05 + 0.01 * \text{level})^t$<br>
              You fail if $r \lt \text{radius}$ after 10 seconds<br>
              You cannot prestige<br>
              Max level: 5
            </div>
            <div class="challenge unavailable">
              Go Back To Challenge
            </div>

          </div>
          <div class="explanation" id="explanation_spiral_designs" style="display: none">
            <div class="title">Spiral Designs</div>
            Spiral Designs change the way your spiral looks and provide useful effects.<br>
            If you own the design, you get its passive effect; if you use the design, you get its active effect.<br>
            <div class="entry">
              <b>One star designs:</b><br>
              <table>
                <tr><th>Spiral Design</td><th>Passive Effect    </td><th>Active Effect      </td></tr>
                <tr><td>Simple Blue  </td><td>$a +10\%$         </td><td>-                  </td></tr>
                <tr><td>Simple Yellow</td><td>$b +10\%$         </td><td>-                  </td></tr>
                <tr><td>Simple Red   </td><td>$c +10\%$         </td><td>-                  </td></tr>
                <tr><td>Simple Violet</td><td>$d +10\%$         </td><td>-                  </td></tr>
                <tr><td>Simple White </td><td>$e +10\%$         </td><td>-                  </td></tr>
                <tr><td>Blue & Green </td><td>$HP +10\%$        </td><td>$HP +50\%$         </td></tr>
                <tr><td>Yellow & Red </td><td>$ATK +10\%$       </td><td>$ATK +50\%$        </td></tr>
                <tr><td>Red & Blue   </td><td>$DEF +10\%$       </td><td>$DEF +50\%$        </td></tr>
                <tr><td>Violet & Pink</td><td>$Crit Rate +1\%$  </td><td>$Crit Rate +5\%$   </td></tr>
                <tr><td>White & Cyan </td><td>$Crit Damage +5\%$</td><td>$Crit Damage +20\%$</td></tr>
              </table>
            </div>
            <div class="entry">
              <b>Two star designs:</b><br>
              <table>
                <tr><th>Spiral Design              </td><th>Passive Effect                  </td><th>Active Effect                                 </td></tr>
                <tr><td>White Circles              </td><td>$Regenerate while Resting +50\%$</td><td>$Regenerate while Resting +200\%$             </td></tr>
                <tr><td>Green & Pink Circles       </td><td>$DEF +5\%$                      </td><td>$DEF +30\%$ | $Regenerate while Resting +50\%$</td></tr>
                <tr><td>Cyan & Red Circles         </td><td>$ATK +5\%$                      </td><td>$ATK +30\%$ | $Regenerate while Resting +50\%$</td></tr>
                <tr><td>Blue Dottered Line         </td><td>$Line Number Multiplier +25\%$  </td><td>$Line Number Multiplier +100\%$               </td></tr>
                <tr><td>White Dottered Line        </td><td>$a +5\%$ | $b +5\%$ | $c +5\%$  </td><td>$Line Number Multiplier +10\%$                </td></tr>
                <tr><td>Orange & Blue Dottered Line</td><td>$d +5\%$ | $e +5\%$ | $f +5\%$  </td><td>$Line Number Multiplier +10\%$                </td></tr>
                <tr><td>Cyan & Pink Stripe         </td><td>$v +2$                          </td><td>$v +5$                                        </td></tr>
                <tr><td>Blue & Violet Stripe       </td><td>$ATK Reward +2$                 </td><td>$ATK Reward +5$                               </td></tr>
                <tr><td>Green & Orange Stripe      </td><td>$DEF Reward +2$                 </td><td>$DEF Reward +5$                               </td></tr>
              </table>
            </div>
            <div class="entry">
              <b>Three star designs:</b><br>
              <table>
                <tr><th>Spiral Design          </td><th>Passive Effect                     </td><th>Active Effect                         </th></tr>
                <tr><td>Green Winding          </td><td>$Exp Reward +1$                    </td><td>$Exp Reward + 3$                      </td></tr>
                <tr><td>White & Red Winding    </td><td>$Exp Reward +3%$                   </td><td>$Exp Reward +10%$                     </td></tr>
                <tr><td>Orange & Purple Winding</td><td>$ATK +30%$ | $DEF +30%$ | $HP +30%$</td><td>$ATK +100%$ | $DEF +100%$ | $HP +100%$</td></tr>
                <tr><td>$\pi$                  </td><td>$\Omega +20\%$                     </td><td>$\Omega +50\%$                        </td></tr>
                <tr><td>Diamond                </td><td>$Battle Upgrade Cost -5\%$         </td><td>$Exp Reward +5\%$                     </td></tr>
                <tr><td>Rainbow                </td><td>$Spiral Equation Speed +50\%$      </td><td>$Spiral Equation Speed +100\%$        </td></tr>
                <tr><td>Kanji                  </td><td>$Spiral Equation Slot +1$          </td><td>$\delta +100\%$                       </td></tr>
                <tr><td>Rahmen                 </td><td>$\gamma +20\%$                     </td><td>$γ +50\%$                             </td></tr>
                <tr><td>Laser                  </td><td>$Z-Reactor Exp +20\%$              </td><td>$Z-Reactor Exp +50\%$                 </td></tr>
                <tr><td>Qinghai Wave           </td><td>$\alpha +0.01$                     </td><td>$\alpha +0.025$                       </td></tr>
                <tr><td>Cloisonne              </td><td>$\beta +0.01$                      </td><td>$\beta +0.025$                        </td></tr>
                <tr><td>Lam&eacute;            </td><td>$Math Skill +200$                  </td><td>$Math Skill +1000$                    </td></tr>
              </table>
            </div>
            <div class="entry">
              <b>DLC designs:</b><br>
              <table>
                <tr><th>Spiral Design   </td><th>Passive Effect       </td><th>Active Effect         </th></tr>
                <tr><td>Bubble          </td><td>$Rare Drop Rate +5\%$</td><td>$Rare Drop Rate +20\%$</td></tr>
                <tr><td>Snake           </td><td>$S-Crit Rate +3\%$   </td><td>$S-Crit Rate +10\%$   </td></tr>
                <tr><td>Arrow           </td><td>$Attack Speed +5\%$  </td><td>$Attack Speed +20\%$  </td></tr>
                <tr><td>Space           </td><td>$\omega +10\%$       </td><td>$\omega + 10\%$       </td></tr>
                <tr class="unavailable"><td>Water           </td><td>-                    </td><td>-                     </td></tr>
              </table>
            </div>
          </div>
          <div class="explanation" id="explanation_z_reactors" style="display: none">
            <div class="title">Z Reactors</div>
            Z Reactors are initially unlocked at T10, with additional reactors unlocked at T23 and T26.<br>
            Each reactor has a capacity you can "fill" with $\Delta z$.<br>
            The amount of $\Delta z$ in a reactor determines the active effect, and also builds up Reactor Exp. When a reactor gets enough Reactor Exp, it levels up and provides a stronger passive effect.<br>
            This passive effect does not go away when you take away the $\Delta z$.
            <div class="entry">
              <b>Reactor - R</b><br>
              <b>z Cost:</b> $100 * 1.5^{\text{level}}$<br>
              <b>Capacity:</b> $100 * \text{level}$<br>
              <b>Exp Cost:</b> $100 * 1.5^{\text{level}}$<br>
              <b>Active Effect:</b> $\Delta r \mathrel{{*}{=}} 1 + 1\% * \text{value}$<br>
              <b>Passive Effect:</b> $\Delta r \mathrel{{*}{=}} 1 + 0.5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Reactor - L</b><br>
              <b>z Cost:</b> $1000 * 1.5^{\text{level}}$<br>
              <b>Capacity:</b> $500 * \text{level}$<br>
              <b>Exp Cost:</b> $2000 * 1.6^{\text{level}}$<br>
              <b>Active Effect:</b> $\text{Line Number Multiplier} \mathrel{{*}{=}} 1 + 1\% * \text{value}^{\color{red}{1.8}} / 25000$<br>
              <b>Passive Effect:</b> $\text{Line Number Multiplier} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Reactor - E</b><br>
              <b>z Cost:</b> $3000 * 1.5^{\text{level}}$<br>
              <b>Capacity:</b> $1000 * \text{level}$<br>
              <b>Exp Cost:</b> $5000 * 1.7^{\text{level}}$<br>
              <b>Active Effect:</b> $\text{Spiral Equation Speed} \mathrel{{*}{=}} 1 + 1\% * \text{value}^{1.5} / 20000$<br>
              <b>Passive Effect:</b> $\text{Spiral Equation Speed} \mathrel{{*}{=}} 1 + 2.5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Reactor - S</b><br>
              <b>z Cost:</b> $7500 * 1.5^{\text{level}}$<br>
              <b>Capacity:</b> $5000 * \text{level}$<br>
              <b>Exp Cost:</b> $10000 * 1.8^{\text{level}}$<br>
              <b>Active Effect:</b> $\text{HP}, \text{ATK}, \text{DEF} \mathrel{{*}{=}} 1 + 1\% * \text{value}^3 / 10^{-14}$<br>
              <b>Passive Effect:</b> $\text{HP}, \text{ATK}, \text{DEF} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Reactor - CR</b><br>
              <b>Unlocked at T23</b><br>
              <b>z Cost:</b> $10^{10} * 1.75^{\text{level}}$<br>
              <b>Capacity:</b> $10^{9} * \text{level}$<br>
              <b>Exp Cost:</b> $10^{10} * 1.9^{\text{level}}$<br>
              <b>Active Effect:</b> $\text{Critical Rate} \mathrel{{+}{=}} 1\% * \text{"SigmaSum"}$<br>
              <b>Passive Effect:</b> $\text{Critical Rate} \mathrel{{+}{=}} 0.005\% * \text{level}$
            </div>
            <div class="entry">
              <b>Reactor - CRX</b><br>
              <b>Unlocked at T26</b><br>
              <b>z Cost:</b> $10^{16} * 2^{\text{level}}$<br>
              <b>Capacity:</b> $10^{15} * \text{level}$<br>
              <b>Exp Cost:</b> $7.5^{16} * 2^{\text{level}}$<br>
              <b>Active Effect:</b> $\text{S-Critical Rate} \mathrel{{+}{=}} 1\% * \lfloor \text{value} / (2*10^{16}) \rfloor$<br>
              <b>Passive Effect:</b> $\text{S-Critical Rate} \mathrel{{+}{=}} 0.005\% * \text{level}$
            </div>
          </div>
          <div class="explanation unavailable" id="explanation_theorems" style="display: none">
            <div class="title">Theorems</div>
            Every theorem costs one of their respective Souls, obtained from Tower enemies.

            <div class="entry">
              <b>Formula:</b> $a^2 + b^2 = c^2$<br>
              <b>Name:</b> Pythagorean theorem<br>
              <b>Time:</b> $10*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{HP}_2 \mathrel{{*}{=}} 1 + 1\% * \text{level}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $\displaystyle \sum_{k=0}^n k^2 = \frac{1}{6}n(n+1)(2n+1)$<br>
              <b>Name:</b> Square sum formula<br>
              <b>Time:</b> $30*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{ATK}_2 \mathrel{{*}{=}} 1 + 1\% * \text{level}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $F = G \frac{Mm}{r^2}$<br>
              <b>Name:</b> Universal Gravitation<br>
              <b>Time:</b> $50*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{DEF}_2 \mathrel{{*}{=}} 1 + 1\% * \text{level}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $i^2 = -1$<br>
              <b>Name:</b> Complex Number<br>
              <b>Time:</b> $100*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{Raid Boss Time} \mathrel{{*}{=}} 1 + 25\% * \text{level}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $\displaystyle  \int_{-\infty}^{\infty} \exp{(-x^2)} dx = \sqrt{\pi}$<br>
              <b>Name:</b> Gausian Integral<br>
              <b>Time:</b> $150*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{Tower Enemy Growth} \mathrel{{*}{=}} \max(0.01, 0.99^{\text{level}}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $n! = \displaystyle \int_0^{\infty} t^n e^{-t}dt$<br>
              <b>Name:</b> Gamma Function<br>
              <b>Time:</b> $200*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{Reward Inspiration} \mathrel{{*}{=}} 1 + 5\% * \text{level}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $e^{\pi i} = -1$<br>
              <b>Name:</b> Euler's identity<br>
              <b>Time:</b> $300*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{Inspiration Cost} \mathrel{{*}{=}} \max(0.01, 0.99^{\text{level}}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $\phi = 2\cos{36}^{\circ}$<br>
              <b>Name:</b> Fibonacci Series<br>
              <b>Time:</b> $500*1.5^{\text{level}}$<br>
              <b>Cost:</b> $100*1.05^{\text{level}}$ inspiration<br>
              $\text{Study Progress} \mathrel{{*}{=}} 1 + 5\% * \text{level}$<br>
              $\text{Tower Damage} \mathrel{{*}{=}} 1 + 5\% * \text{level}$
            </div>
            <div class="entry">
              <b>Formula:</b> $F(s) = \displaystyle \int_0^{\infty} f(t) e^{-st}dt$<br>
              <b>Name:</b> Laplace transform<br>
              <b>Time:</b> $1000*1.5^{\text{level}}$<br>
              <b>Cost:</b> $1000*1.1^{\text{level}}$ inspiration<br>
              Unlocks $\text{Tower Damage} \mathrel{{*}{=}} \min(50, 1 + 1\% * \text{Math Skill} / 10^6)$
            </div>
            <div class="entry">
              <b>Formula:</b> $f(t) = \frac{1}{\sqrt{2\pi}} \displaystyle \int_{-\infty}^{\infty} F(\omega)e^{j\omega t} d\omega$<br>
              <b>Name:</b> Fourier Inverse Transform<br>
              <b>Cost:</b> $2^{\text{level}}$ The Soul of Fourier<br>
              <b>Time:</b> $1000*1.5^{\text{level}}$<br>
              Unlocks $\text{Tower Damage} \mathrel{{*}{=}} \min(50, 1 + 1\% * \text{Enemies Defeated} / 10^6)$
            </div>
          </div>
          <div class="explanation" id="explanation_story" style="display: none">
            <div class="title">Story</div>

            <div class="entry">
              <b>Start of the game:</b><br>
              <i>So dark. And you feel nothing.</i><br>
              <br>
              <i>"Welcome to the world of Idle Spiral"</i><br>
              <i>You hear someone's beautiful voice. You try to respond, but your voice won't come out.</i><br>
              <br>
              <i>"I'm sure you have no idea what's going on right now, so let me explain to you what's going on in this world.</i><br>
              <i>Believe it or not, in this world, you can only go around in circles.</i><br>
              <i>your value is measured by your distance "r" from the origin."</i><br>
              <br>
              <i>"In the previous world, you may have been valued</i><br>
              <i>for your wealth or your looks. But in this world, neither will help you.</i><br>
              <i>Please do not be depressed when you hear this.</i><br>
              <i>Any effort will lead to "r"."</i><br>
              <br>
              <i>I am in a very distant place, but due to circumstances,</i><br>
              <i>I cannot move from here.</i><br>
              <i>But if you can increase "r", we might be able to meet.</i><br>
              <i>It may be a very, very long way, but I will be here waiting for you.</i><br>
              <br>
              <i>You had no idea who or what she was talking about.</i><br>
              <i>But no matter how you moved your body,</i><br>
              <i>all you could do was spin around in circles.</i><br>
              <i>You decided to leave the origin.</i><br>
            </div>
            <div class="entry">
              <b>First $\omega$ prestige:</b><br>
              <i>This world, as the beautiful voice said, seems to be all about r.</i><br>
              <i>In order to increase the amount of r, you have to consume r.</i><br>
              <i>In the world I was in before, in order to increase money, I had to invest it.</i><br>
              <i>In order to create time, you had to spend time.</i><br>
              <i>Is it a common rule in all worlds that you have to lose something to gain something?</i><br>
              <i>If that's the case, maybe if you start over from the beginning, you will get something better.</i><br>
              <i>You decide to go back to your starting point.</i><br>
            </div>
            <div class="entry">
              <b>Second $\omega$ prestige:</b><br>
              <i>Somehow, I think I've figured out how to survive in this world. I've also come to understand that the spiral can be a powerful weapon if used properly.</i><br>
              <br>
              <i>I felt that if I could use the spiral better, I would be able to realize a more powerful version of myself. And I would be able to go farther.</i><br>
              <i>Next time, I'll try to go around while also practicing.</i><br>
            </div>
            <div class="entry">
              <b>Third $\omega$ prestige:</b><br>
              <i>You are starting to have a little fun.</i><br>
              <i>Apparently, in this world, the faster you go around in circles, the farther you can get from the origin.</i><br>
              <i>Maybe it's like centrifugal force, you thought.</i><br>
              <i>You had a feeling that if you tried again, you could get around faster.</i><br>
              <i>If you repeated this, you would be able to see the main figure of that beautiful voice.</i><br>
              <i>You decided to go back to the beginning and try to go around at a faster speed.</i><br>
            </div>
            <div class="entry">
              <b>First $P$ prestige:</b><br>
              <i>You have yet to meet the owner of that beautiful voice.</i><br>
              <i>Feeling the limitations, you decided to start all over again, abandoning the rotation speed that you had gained so quickly.</i><br>
              <i>But this time, you feel like you can do better.</i><br>
              <i>Yes, it's like being reborn as a baby with the mature knowledge.</i><br>
              <i>If you had been reborn in the previous world, what kind of life would you have tried to lead?</i><br>
              <i>It might be a good idea to study the spiral equation a bit.</i><br>
              <i>With these thoughts in mind, you return to your starting point.</i><br>
            </div>
            <div class="entry">
              <b>Reach T1:</b><br>
              <i>You hear that beautiful voice again.</i><br>
              <i>"I feel you have come into your own in this world.</i><br>
              <i>And yet, the courage to start from the beginning again is something that no one can imitate.</i><br>
              <i>You have thrown away everything you have accumulated and started over again.</i><br>
              <i>However, the road to me still seems endlessly long.</i><br>
              <i>But I seem to be even further away.</i><br>
              <i>To move further away from the origin, you need to jump into another dimension, the Z-dimension.</i><br>
              <i>You have already taken the first step in the prestige you just had.</i><br>
              <i>Please open your eyes."</i><br>
              <i>You foresaw the beginning of a new journey.</i><br>
            </div>
            <div class="entry unavailable">
              <b>First Equation:</b><br>
              <i>I hear the voice of a great mathematician.</i><br>
              <i>"Mathematics reveals its secrets only to those who approach it with pure love, for its own beauty.."</i><br>
              <br>
              <i>You feel a great surge of energy.</i><br>
              <i>Now it is time to dive into the new world of mathematics.</i><br>
            </div>
            <div class="entry unavailable">
              <b>First Transformation of the World:</b><br>
              <i>It's been a while since I've heard that beautiful voice.</i><br>
              <i>"You have gone on for a long time to get to where I am.</i><br>
              <i>I'm very happy for your efforts, but I'm very sorry that I couldn't meet you.</i><br>
              <i>I thought that the world you are in and the world I am in are the same, but unfortunately they are similar but different.</i><br>
              <i>You are valued more than anyone else in that world, so please forget about me and live happily ever after."</i><br>
              <i>I made it to the border of this world, but I couldn't meet the owner of that beautiful voice.</i><br>
              <i>I thought that you have become like a god in this world, and that you can even change the rules of the world.</i><br>
            </div>
            <div class="entry">
              <b>Reach T2:</b><br>
              <i>I heard a beautiful voice.</i><br>
              <i>"You are starting over again, aren't you?</i><br>
              <i>Not everyone can imitate you.</i><br>
              <i>You will gain another new power.</i><br>
              <i>Keep going at this rate."</i><br>
              <i>The Unlock Auto $\omega$ Prestige has been unlocked.</i><br>
              <i>I remembered that it is a pain to rearrange the chess pieces when playing again.</i><br>
              <i>Come to think of it, who did I play chess with in my previous life?</i><br>
            </div>
            <div class="entry">
              <b>Reach T3:</b><br>
              <i>I heard a beautiful voice.</i><br>
              <i>"You are starting over again, aren't you?</i><br>
              <i>It's not something anyone can imitate."</i><br>
              <i>The ordeal of drunkenness seems to have been unlocked.</i><br>
              <i>When I couldn't take the first step, alcohol gave me courage.</i><br>
              <i>Although that step was not always the right one.</i><br>
            </div>
            <div class="entry">
              <b>Reach T4:</b><br>
              <i>"I heard a beautiful voice.</i><br>
              <i>"You are definitely getting closer to me.</i><br>
              <i>But I am losing the strength to say something in my voice.</i><br>
              <i>If I could see you a little bit..."</i><br>
              <i>It seems we need to hurry.</i><br>
              <i>You have decided to make a fresh start."</i><br>
            </div>
            <div class="entry">
              <b>Reach T5:</b><br>
              <i>I can't hear the beautiful voice.</i><br>
              <i>The Flower Challenge seems to have been unlocked.</i><br>
              <i>Speaking of flowers, I think there were many light pink flowers where I grew up.</i><br>
              <i>I realized that although I had the knowledge, only the memory of my previous life was completely lost.</i><br>
              <i>I can't believe I'm realizing this now.</i><br>
              <i>Just why do I feel so sad when I remember those flowers?</i><br>
            </div>
            <div class="entry">
              <b>Reach T6:</b><br>
              <i>I heard a beautiful voice.</i><br>
              <i>"There is no time, my dear. I will teach you my secrets.</i><br>
              <i>You will be able to perform more incarnations than ever before.</i><br>
              <i>You will be able to do more reincarnations than you have ever done before. Use its power correctly."</i><br>
              <i>Auto Prestige is unlocked.</i><br>
              <i>You have to start over from scratch, even though you have to move on.</i><br>
              <i>You are getting in over your head.</i><br>
            </div>
            <div class="entry">
              <b>Reach T7:</b><br>
              <i>I can't hear the beautiful voice.</i><br>
              <i>The Slow Spiral Challenge has been unlocked. I have to stop and think slowly.</i><br>
              <i>What I have to do now...</i><br>
            </div>
            <div class="entry">
              <b>Reach T8:</b><br>
              <i>I can't hear the beautiful voice.</i><br>
              <i>Another strong enemy appears.</i><br>
              <i>I feel as if my heart will never stop shaking,</i><br>
              <i>but against my will, the spiral progresses steadily.</i><br>
              <i>The New Enemy Pi has been unlocked.</i><br>
            </div>
            <div class="entry">
              <b>Reach T9:</b><br>
              <i>I can't hear the beautiful voice.</i><br>
              <i>The Gluttony Challenge has been unlocked.</i><br>
              <i>I remembered the sight of a sumptuous meal lined up in front of me.</i><br>
              <i>Whenever I was feeling down, my parents would prepare a delicious meal for me.</i><br>
              <i>But that day was the only day I didn't have any energy.</i><br>
            </div>
            <div class="entry">
              <b>Reach T10:</b><br>
              <i>I heard a beautiful voice.</i><br>
              <i>"Can you hear me...?</i><br>
              <i>I have lost the ability to even feel your presence.</i><br>
              <i>I know it's a world like this, but please live happily without me."</i><br>
              <i>I felt the presence of the beautiful voice had disappeared.</i><br>
            </div>
            <div class="entry">
              <b>Reach T11:</b><br>
              <i>I don't hear any beautiful voices.</i><br>
              <i>Straight Line Challenge has been unlocked.</i><br>
              <i>Straight...going straight is difficult.</i><br>
              <i>In life, we want to move forward, but we go in circles and take detours.</i><br>
              <i>We go around in circles and end up back at the same place again.</i><br>
              <i>Even if we think so, maybe we are advancing a little.</i><br>
            </div>
            <div class="entry">
              <b>Reach T12:</b><br>
              <i>There is no beautiful voice to be heard.</i><br>
              <i>There is an enemy that I just can't match.</i><br>
              <i>I feel like I had this feeling in my previous life.</i><br>
              <i>Are the memories of my previous life slowly returning?</i><br>
              <i>Gamma has been unlocked.</i><br>
            </div>
            <div class="entry">
              <b>Reach T13:</b><br>
              <i>New Sigma to $A_i$ has been unlocked.</i><br>
            </div>
            <div class="entry">
              <b>Reach T14:</b><br>
              <i>Poor Math Challenge has been unlocked.</i><br>
              <i>To compete in this world, I must be strong in math.</i><br>
            </div>
            <div class="entry">
              <b>Reach T15:</b><br>
              <i>No Rebirth Challenge has been unlocked.</i><br>
              <i>The whole time I've been here, I feel like I can start over as many times as I want in life.</i><br>
              <i>This challenge has a name that doesn't seem like it can be redone.</i><br>
              <i>It's been a long time since I've feared...</i><br>
            </div>
            <div class="entry">
              <b>Reach T16:</b><br>
              <i>I feel the soul of a beautiful voice.</i><br>
              <i>And yet, there is a ridiculously strong enemy in front of you.</i><br>
              <i>We must defeat it and meet the beautiful voice.</i><br>
              <i>Napierhas been unlocked.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Defeat Napier</b><br>
              <i>We defeated Napier and met a beautiful voice.</i><br>
              <i>She had become a soul, a glowing sphere.</i><br>
              <i>I had never met her before, but somehow I knew it was a beautiful voice.</i><br>
              <i>And it felt so nostalgic.</i><br>
              <i>I want to hear that voice again.</i><br>
              <i>You decided to go on a further journey, believing that you could revive the soul of the beautiful voice.</i><br>
            </div>
            <div class="entry">
              <b>Reach T17:</b><br>
              <i>I have heard that beautiful voice in a previous life.</i><br>
              <i>I haven't heard that voice for a long time, but just remembering it gives me strength.</i><br>
              <i>Critical rate and critical damage increased.</i><br>
            </div>
            <div class="entry">
              <b>Reach T18:</b><br>
              <i>There was a childhood friend who had been with me since I was little.</i><br>
              <i>Since I can no longer see her, there is a gaping hole in my heart.</i><br>
              <i>Now may be the time to fill the hole.</i><br>
              <i>Sinkhole Challenge  has been unlocked.</i><br>
            </div>
            <div class="entry">
              <b>Reach T19:</b><br>
              <i>My childhood friend and I played every day in the park.</i><br>
              <i>Playing with her was always fun and her laughter was so beautiful.</i><br>
              <i>Unlock new z upgrade</i><br>
            </div>
            <div class="entry">
              <b>Reach T20:</b><br>
              <i>She was a strong chess player.</i><br>
              <i>I have never won.</i><br>
              <i>Her particular favorite piece was the pawn.</i><br>
              <i>That cute round shaped pawn was the deciding factor in the game.</i><br>
              <i>Unlock Sphere Challenge.</i><br>
            </div>
            <div class="entry">
              <b>Reach T21:</b><br>
              <i>People are emotionally disturbed by change.</i><br>
              <i>They forget how far they have come in the past 10 years and are happy or saddened by the amount of change between the state they were in a few minutes ago and the state they are in now.</i><br>
              <i>In order to determine what is important to you and not to regret it, you may need to think of things in integral terms.</i><br>
              <i>Add Integral part to $A_i$</i><br>
            </div>
            <div class="entry">
              <b>Reach T22:</b><br>
              <i>She loved nature, especially flowers.</i><br>
              <i>We used to play in the park looking for flowers.</i><br>
              <i>But nature is not only beautiful, it is also an object of fear.</i><br>
              <i>No matter how strong we become, we can never win against nature.</i><br>
              <i>Unlock new battle upgrades</i><br>
            </div>
            <div class="entry">
              <b>Reach T23:</b><br>
              <i>Is that beautiful voice still that childhood friend?</i><br>
              <i>If she is in this world, am I also dead?</i><br>
              <i>Just like her.</i><br>
              <i>Unlock new Z reactor</i><br>
            </div>
            <div class="entry">
              <b>Reach T24:</b><br>
              <i>It is often said that with time we can forget, but I disagree.</i><br>
              <i>She came to this world and temporarily lost her memory, but in the end, I don't think she could forget.</i><br>
              <i>She was swallowed up by the maelstrom.</i><br>
              <i>I feel indignant at my own helplessness.</i><br>
              <i>Unlock Fury Challenge</i><br>
            </div>
            <div class="entry">
              <b>Reach T25:</b><br>
              <i>Yes, it is. I hated swirls and spirals.</i><br>
              <i>That's what kidnapped her.</i><br>
              <i>Is this a curse placed on me?</i><br>
              <i>Unlock new Enemy Pentangle</i><br>
            </div>
            <div class="entry">
              <b>Reach T26:</b><br>
              <i>We must help the beautiful voice.</i><br>
              <i>Then I want to apologize to her.</i><br>
              <i>Unlock new Z reactor</i><br>
            </div>
            <div class="entry">
              <b>Reach T27:</b><br>
              <i>I had to move forward or I would go crazy.</i><br>
              <i>As soon as I thought that, I realized that I didn't know  "forward" definition of this world.</i><br>
              <i>Maybe it doesn't matter if it's forward or not.</i><br>
              <i>It's important to keep going.</i><br>
              <i>Unlock new battle upgrades</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T28:</b><br>
              <i>I had gained so much power that I could do anything in this world.</i><br>
              <i>A little stronger, and I might be able to save my beautiful voice.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T29:</b><br>
              <i>I am already strong enough.</i><br>
              <i>I have decided to give strength to the soul of my beautiful voice.</i><br>
              <i>The soul seemed to regain its strength little by little.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T30:</b><br>
              <i>I remembered what I was going to do just before I came to this world.</i><br>
              <i>I was tired of blaming myself and was about to die.</i><br>
              <i>The soul of the beautiful voice is about to regain its strength, though it is about to disappear.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T31:</b><br>
              <i>"Can you hear me?" I was trying to help you, but you helped me the other way around."</i><br>
              <i>It's been a long time since I heard a beautiful voice.</i><br>
              <i>I am not a tearful person in this world, but I was about to cry.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T32:</b><br>
              <i>"As you may have already noticed, I am your childhood friend.</i><br>
              <i>I think I died when I was with you, and I have been giving you a hard time for a long time.</i><br>
              <i>You have blamed yourself since then and I am very sorry."</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T33:</b><br>
              <i>"I am the one who called you into this world.</i><br>
              <i>I was able to call you to this world because you were about to give up living in your previous world and I strongly wished to help you.</i><br>
              <i>I wish three things for you.</i><br>
              <i>The first is a wish that when you return to your former world, you will live properly.</i><br>
              <i>The second is my wish that you remember to keep going anyway, just like you did when you were little.</i><br>
              <i>I am sure that you have made it so far in this world that you have already regained this feeling."</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T34:</b><br>
              <i>Third, I want you to know that I am grateful to you.</i><br>
              <i>This world is created by my thoughts.</i><br>
              <i>The spiral of this world are not the whirlpools that killed me.</i><br>
              <i>Do you not remember?</i><br>
              <i>The Spiranthes that you and I went to the park and found.</i><br>
              <i>It is my best flower, blooming like a spiral and teaching me about the wonder and beauty of nature.</i><br>
              <i>I was so happy to be friends with you.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T35:</b><br>
              <i>You will regain your old self in this world.</i></br>
              <i>Not all.</i></br>
              <i>You who have suffered are surely an important part of you.</i></br>
              <i>I am so glad that I was able to share these thoughts with you, and now I am going to disappear.</i></br>
              <i>Thank you so much.</i><br>
            </div>
            <div class="entry unavailable">
              <b>Reach T36:</b><br>
              <i>She was gone.</i></br>
              <i>I miss her very much, but thanks to her beautiful voice, I feel somewhat better.</i></br>
              <i>I am truly grateful to her.</i></br>
              <i>I wanted to be stronger in this world she had created for me.</i></br>
              <i>For the day we return to the world before.</i><br>
            </div>

          </div>
          <div class="explanation" id="explanation_changelog" style="display: none">
            <div class="title">Changelog</div>
            Explanation changelog
          </div>
          <div class="explanation" id="explanation_meta_changelog" style="display: none">
            <div class="title">Meta changelog</div>
            Some day I'll care enough to write this, or I'll start tracking things after reaching some point of completion.

            <h4>v0.2209082119</h4>
            Added page parameter interaction to allow for linking to specific explanations.
            <h4>v0.2206142003</h4>
            Initial version
          </div>
          <div class="explanation" id="explanation_bugs" style="display: none">
            <div class="title">Bugs</div>
            <div class="entry">
              <b>Enemy Growth Reduction:</b><br>
              Instead of using the 50000 threshold and enemy growth reduction from other sources like the fury challenge; the decay used to scale enemy stats incorrectly uses just the 5000 threshold math skill formula.<br>
              <i>Fixed in next update</i>
            </div>
            <div class="entry">
              <b>Rare Chance:</b><br>
              The rare chance diminishment function has incorrect bounds, making your chance jump at the second threshold.<br>
              <i>Fixed in next update</i>
            </div>
            <div class="entry">
              <b>Offline bonus:</b><br>
              The offline progress calculation for the reactors incorrectly uses a single timestep instead of the offline duration; effectively giving you no progress.<br>
              The offline bonus for the spiral equations displays the incorrect names; the bonus does correctly apply to the selected equations.<br>
              <i>Fixed in next update</i>
            </div>
            <div class="entry">
              <b>logk:</b><br>
              The logk r upgrade shows an effect of $a + \log_{10}(k^{\text{level}})\%$, but in actuality, this is $a + 10*\log_{10}(k^{\text{level}})\%$.
            </div>
            <div class="entry">
              <b>Block:</b><br>
              The unused block mechanic still gives the ally spiral a 0.01% chance to ignore damage.
            </div>
            <div class="entry">
              <b>UI:</b><br>
              The center of the spiral on the main screen blocks interaction, blocking the 6th and 10th upgrades a bit.<br>
              At some resolutions, the sides of the screen that include menu buttons becomes blocked.<br>
              Number representations are incredibly inconsistent.
            </div>
            <div class="entry">
              <b>Notation:</b><br>
              Letter notation accidentally merged two orders of magnitude at "UQig, DQig", meaning everything after is off by one order of magnitude.<br>
              <i>Fixed in next update</i>
            </div>
            <div class="entry">
              <b>Battle Upgrades:</b><br>
              The Max Upgrade option for Battle Upgrades doesn't take cost reduction into account; causing it to occasionally take exp without leveling up.
            </div>
            <div class="entry">
              <b>Fury Challenge:</b><br>
              The Fury Challenge no longer resets progress when started, making it trivial to cheese.
            </div>
            <div class="entry">
              <b>Achievements:</b><br>
              Getting the $k$ upgrade to level 10000 costs more $r$ than the game can handle, making the achievement for it impossible.<br>
              The cumulative upgrade achievements are impossible.
            </div>
            <div class="entry unavailable">
              <b>Raid Enemies:</b><br>
              The Spiral Tower enemy's exp tiles lose their reward exp effect after the first board.<br>
              The Math Tower and Inverse Tower exclusive Souls are available in the Spiral Tower.<br>
              The Math Tower enemy doesn't gain difficulty levels when defeated.<br>
              The Inverse Tower enemy's s-critical rate reward tile doesn't render text.<br>
              The Math Tower and Inverse Tower exclusive Souls are swapped.
            </div>
            <div class="title">Bugs I fixed</div>
            <div class="entry">
              <ul>
                <li style="color: blue">Attack progress is updated, resetting when you attack. This locks your attack speed at a certain ticks per attack.</li>
                <li style="color: blue">Battle Spiral Reward tables have a memory leak related to the text objects.</li>
                <li style="color: blue">The offline progress calculation for the reactors incorrectly uses a single timestep instead of the offline duration.</li>
                <li style="color: yellow">Enemy Growth Reduction displays a number scaled based on a threshold of 50000 math skill, but actually uses a number scaled based on a threshold of 5000 math skill.</li>
                <li style="color: yellow">Fury Challenge reward only applies to the displayed Enemy Growth Reduction, not to the number actually used.</li>
                <li style="color: green">Battle Upgrade 18 (HP Reward +5%) incorrectly gives +3% per level.</li>
                <li style="color: green">Battle Upgrade 30 (+300 ATK and DEF from PI) actually gives +500.</li>
                <li style="color: green">Battle Upgrade 32 (+0.01 Super Critical Damage from Napier) applies to both S-Crit rewards, making it twice as strong.</li>
                <li style="color: green">Battle Upgrade 40 (EXP Reward +10%) incorrectly gives +5% per level.</li>
                <li style="color: green">A duplicate special achievement shifts all the titles and unlock texts, making them appear incorrect.</li>
                <li style="color: green">Letter notation has a formatting error at "UQig, DQig", making all numbers after incorrect.</li>
                <li style="color: green">The offline bonus for the spiral equations displays the incorrect names due to using wrong indexes.</li>
                <li style="color: green">The offline bonus for the reactors displays the incorrect names due to using wrong indexes.</li>
                <li style="color: green">The Laser design passive effect incorrectly gives an additive bonus instead of a multiplicative one.</li>
                <li style="color: green">The Rahmen design passive effect incorrectly gives an additive bonus instead of a multiplicative one.</li>
                <li style="color: yellow">The Rare Chance diminishment has incorrect bounds at the second threshold, making the result jump.</li>
              </ul>
            </div>
          </div>
          <div class="explanation" id="explanation_faq" style="display: none">
            <div class="title">Frequently Asked Questions</div>
            <div class="entry">
              <b>Q:</b> What's the purpose of the game?<br>
              <i>A:</i> Make number go up.
            </div>
            <div class="entry">
              <b>Q:</b> What is this weird name in the battle spiral?<br>
              <i>A:</i> Once you unlock the Spiral Equations at T4, every enemy replaces their final reward with a onetime reward that unlocks a new Spiral Equation. After you have gotten the onetime reward, you can reroll to get the Exp reward back.
            </div>
            <div class="entry">
              <b>Q:</b> Help I'm stuck at this challenge!<br>
              <i>A:</i> That's not really a question. You don't have to do a challenge the moment you unlock it. You can do it later when you are more powerful.
            </div>
            <div class="entry">
              <b>Q:</b> When should I do [insert challenge here]?<br>
              <i>A:</i> In general, you should just try a challenge every so often to see if you can complete them in a few minutes. The exception to this is the Flower Challenge, which you should complete 5/5 the moment you unlock it.
            </div>
            <div class="entry">
              <b>Q:</b> Why did upgrading $\beta$ decrease my $\Delta r$?<br>
              <i>A:</i> $\alpha$ and $\beta$ contribute to $\Delta r$ following $\frac{2\alpha^{\beta+1}}{\beta+1}$.<br>
              $\left.\frac{\partial}{\partial \beta} \frac{2\alpha^{\beta+1}}{\beta+1} \right\vert_{\beta = 1} = \alpha^2\ln(\alpha)-\frac{\alpha^2}{2}$<br>
              This means that at $\beta = 1$, upgrading it will increase $\Delta r$ if $\alpha \gt \sqrt{e} \approx 1.65$.<br>
              It is possible to increase $\Delta r$ earlier by taking multiple upgrades of $\beta$ into account, but 1.65 is a simple threshold.
            </div>
            <div class="entry">
              <b>Q:</b> What is the "line number multiplier"?<br>
              <i>A:</i> Next to your $\Delta r$, there is a button that increases the amount of lines you see, usually at x5. This always provides a multiplier to $\Delta r$ of $1 + ((\text{lines} - 1) * 0.1) * \text{Line Number Multiplier}$.
            </div>
            <div class="entry">
              <b>Q:</b> What's with the light grey boxes?<br>
              <b>A:</b> Anything that's grey is partially implemented but not accessible content.
            </div>
            <div class="entry">
              <b>Q:</b> Are you the dev?<br>
              <i>A:</i> No, but I'm occasionally helping out.
            </div>
          </div>

          <div class="explanation" id="explanation_delta_r" style="display: none">
            <div class="title">$\Delta r$</div>
            $\Delta r$ is the amount $r$ increases per second, making it the most important number in the game.<br>
            Something something a bazillion different effects.
          </div>
          <div class="explanation" id="explanation_sigmaA" style="display: none">
            Explanation sigmaA
          </div>
          <div class="explanation" id="explanation_omega" style="display: none">
            Explanation omega
          </div>
          <div class="explanation" id="explanation_k" style="display: none">
            Explanation k
          </div>
          <div class="explanation" id="explanation_integral" style="display: none">
            Explanation integral
          </div>
          <div class="explanation" id="explanation_u" style="display: none">
            Explanation u
          </div>
          <div class="explanation" id="explanation_v" style="display: none">
            Explanation v
          </div>
          <div class="explanation" id="explanation_n" style="display: none">
            Explanation n
          </div>
          <div class="explanation" id="explanation_m" style="display: none">
            Explanation m
          </div>
          <div class="explanation" id="explanation_alpha" style="display: none">
            Explanation alpha
          </div>
          <div class="explanation" id="explanation_beta" style="display: none">
            Explanation beta
          </div>
          <div class="explanation" id="explanation_largeA" style="display: none">
            Explanation largeA
          </div>
          <div class="explanation" id="explanation_a" style="display: none">
            Explanation a
          </div>
          <div class="explanation" id="explanation_b" style="display: none">
            Explanation b
          </div>
          <div class="explanation" id="explanation_c" style="display: none">
            Explanation c
          </div>
          <div class="explanation" id="explanation_d" style="display: none">
            Explanation d
          </div>
          <div class="explanation" id="explanation_e" style="display: none">
            Explanation e
          </div>
          <div class="explanation" id="explanation_f" style="display: none">
            Explanation f
          </div>
          <div class="explanation" id="explanation_g" style="display: none">
            Explanation g
          </div>


          <div class="explanation" id="explanation_delta_z" style="display: none">
            Explanation delta z
          </div>
          <div class="explanation" id="explanation_gamma" style="display: none">
            Explanation gamma
          </div>
          <div class="explanation" id="explanation_Omega" style="display: none">
            Explanation Omega
          </div>
          <div class="explanation" id="explanation_delta" style="display: none">
            Explanation delta
          </div>


          <div class="explanation" id="explanation_hp" style="display: none">
            Explanation hp
          </div>
          <div class="explanation" id="explanation_atk" style="display: none">
            Explanation atk
          </div>
          <div class="explanation" id="explanation_def" style="display: none">
            Explanation def
          </div>
          <div class="explanation" id="explanation_attack_speed" style="display: none">
            <div class="title">Attack Speed</div>
            <p>
              Your battle spiral attacks at a rate of $2 / \text{attack speed}$ seconds, which gets displayed as the Time to Attack.<br/>
              This $\text{attack speed}$ is the product of the following factors:

              <table>
                <tr><th> Source                      </th><th> Effect                                             </th></tr>
                <tr><td> Battle reward               </td><td> $$\begin{cases}
                  1 + \text{battle reward}, & \text{if battle reward} \lt 4 \\
                  \sqrt[3]{17.5 * \text{battle reward} + 55},& \text{otherwise}
                \end{cases}$$</td></tr>
                <tr><td> Battle upgrade 13           </td><td> $* (1 + 0.1\% * \text{level})$                     </td></tr>
                <tr><td> Battle upgrade 24           </td><td> $* (1 + 0.5\% * \text{level})$                     </td></tr>
                <tr><td> Spiral equation eratos      </td><td> $* (1 + 1\% * \log_{10}(\text{level} + 1))$        </td></tr>
                <tr><td> Spiral design arrow active  </td><td> $* (1 + 20\% \text{ if you use the arrow design})$ </td></tr>
                <tr><td> Spiral design arrow passive </td><td> $* (1 + 5\% \text{ if you own the arrow design})$  </td></tr>
              </table>

              The attack speed percentage you see on the battle spiral screen only incorporates the battle reward and battle upgrade effects.
            </p>
          </div>
          <div class="explanation" id="explanation_critical" style="display: none">
            <div class="title">Critical Rate</div>
            <!--
            5%

            Spiral equation euclides: * (1 + 0.001 * level)
            Spiral design gradation_violet_pink active: * 1.05 if you use the gradation_violet_pink design
            Spiral Design gradation_violet_pink passive: * 1.01 if you own the gradation_violet_pink design


            0: Effect {name: 'Tornado unlock critical', target: 'critical', type: 'indep', formula: '0.1 if tornadoPrestigeTier >= 17', value: ƒ}
1: Effect {name: 'Battle upgrade Critical +0.1%', target: 'critical', type: 'indep', formula: '1 + battle upgrade Critical +1%', value: ƒ}
2: Effect {name: 'Battle upgrade Critical +0.2%', target: 'critical', type: 'indep', formula: '1 + battle upgrade Critical +0.2%', value: ƒ}
3: Effect {name: 'Reactor crit active', target: 'critical', type: 'indep', formula: '0.01 * SigmaSum(Math.floor(reactor value / 1e9))', value: ƒ}
4: Effect {name: 'Reactor crit passive', target: 'critical', type: 'indep', formula: 'Its complicated', value: ƒ}
length: 5
            -->
            <script>
              idlespiral.addUpdateFunction(function() {
                // TODO
              });
            </script>
          </div>
          <div class="explanation" id="explanation_criticalDamage" style="display: none">
            <div class="title">Critical Damage</div>
            Explanation criticalDamage
          </div>
          <div class="explanation" id="explanation_super_critical" style="display: none">
            <div class="title">Super Critical Rate</div>
            Explanation super_critical
          </div>
          <div class="explanation" id="explanation_super_critical_damage" style="display: none">
            <div class="title">Super Critical Damage</div>
            Explanation super_critical_damage
          </div>
          <div class="explanation" id="explanation_rare_chance" style="display: none">
            <div class="title">Rare Drop Rate</div>
            Explanation rare_chance
          </div>
          <div class="explanation" id="explanation_math_skill" style="display: none">
            <div class="title">Math Skill</div>
            <p>$\text{Math Skill}$ contributes to the $\text{Enemy Growth Reduction}$ following the formula;</p>
            <div class="formula" style="height: 75px">
              <div class="explainable explain_enemy_growth_reduction">$\text{Enemy Growth Reduction}$</div>
              <div>&nbsp;$\mathrel{{*}{=}}$&nbsp;</div>
              <div>$$\begin{cases}
                1 - 0.5 * \text{Math Skill} / 50000,& \text{if } \text{Math Skill} \lt 50000 \\
                1 - (0.9 - 1 / 1.000018326 ^ {\text{Math Skill}}),& \text{otherwise}
              \end{cases}$$</div>
            </div>

            <p>This $\text{Enemy Growth Reduction}$ is currently only displayed, the actual $\text{Decay}$ used to determine enemy stats follows the formula;</p>
            <div class="formula" style="height: 50px">
              <div>
                $$\begin{cases}
                  1 - 0.5 * \text{Math Skill} / 5000,& \text{if } \text{Math Skill} \lt 5000 \\
                  1 - (0.9 - 1 / 1.000183 ^ {\text{Math Skill}}),& \text{otherwise}
                \end{cases}$$
              </div>
            </div>
          </div>
          <div class="explanation" id="explanation_enemy_growth_reduction" style="display: none">
            <div class="title">Enemy Growth Reduction</div>
            Explanation enemy_growth_reduction
          </div>
          <div class="explanation" id="explanation_inspiration" style="display: none">
            <div class="title">Inspiration</div>
            Explanation inspiration
          </div>
          <div class="explanation" id="explanation_dev" style="display: none">
            <div class="title">Dev</div>
            Stuff you should not look too much into.
            <div class="entry">
              <b>Raw savefile:</b><br>
              <textarea id="savefile-input" style="width: 730px; height: 200px" readonly="readonly"></textarea>
            </div>
            <div class="entry">
              <b>Decrypted savefile:</b><br>
              <textarea id="savefile-decrypted" style="width: 730px; height: 200px" readonly="readonly"></textarea>
            </div>
          </div>
        </div>

        <div class="" id="battle-spiral-stats" style="position: absolute; left: 1200px; width: 300px">
          <div class="effect explainable explain_hp" style="height: 20px">
            <div>HP</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_hp">0</div>
          </div>
          <div class="effect explainable explain_atk" style="height: 20px">
            <div>ATK</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_atk">0</div>
          </div>
          <div class="effect explainable explain_def" style="height: 20px">
            <div>DEF</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_def">0</div>
          </div>
          <div class="effect explainable explain_attack_speed" style="height: 20px">
            <div>Attack Speed</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_attack_speed">0</div>
          </div>
          <div class="effect explainable explain_attack_speed" style="height: 20px">
            <div>- Pure Attack Speed</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display battle_reward_attackSpeed">0</div>
          </div>
          <div class="effect explainable explain_attack_speed" style="height: 20px">
            <div>- Time to Attack</div>
            <div>&nbsp;=&nbsp;</div>
            <div id="custom_update_time_to_attack">0</div>
            <script>
              idlespiral.addUpdateFunction(function() {
                $("#custom_update_time_to_attack").text(2/idlespiral.evaluate("attack_speed"));
              });
            </script>
          </div>
          <div class="effect explainable explain_critical" style="height: 20px">
            <div>Crit Rate</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_critical">0</div>
          </div>
          <div class="effect explainable explain_criticalDamage" style="height: 20px">
            <div>Crit Damage</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_criticalDamage">0</div>
          </div>
          <div class="effect explainable explain_super_critical" style="height: 20px">
            <div>S-Crit Rate</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_super_critical">0</div>
          </div>
          <div class="effect explainable explain_super_critical_damage" style="height: 20px">
            <div>S-Crit Damage</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_super_critical_damage">0</div>
          </div>
          <div class="effect explainable explain_rare_chance" style="height: 20px">
            <div>Rare Drop Rate</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_rare_drop">0</div>
          </div>
          <div class="effect explainable explain_rare_chance" style="height: 20px">
            <div>- Pure Rare Drop</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display battle_reward_rare_chance">0</div>
          </div>
          <div class="effect explainable explain_math_skill" style="height: 20px">
            <div>Math Skill</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_math_skill">0</div>
          </div>
          <div class="effect explainable explain_enemy_growth_reduction" style="height: 20px">
            <div>Enemy Growth Reduction</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_enemy_growth_reduction">0</div>
          </div>
          <div class="effect explainable explain_enemy_growth_reduction" style="height: 20px">
            <div>- Actual Decay</div>
            <div>&nbsp;=&nbsp;</div>
            <div id="custom_update_decay">0</div>
            <script>
              idlespiral.addUpdateFunction(function() {
                $("#custom_update_decay").text(decay(idlespiral.dto.battle_rewards[34]));
              });
            </script>
          </div>
          <div class="effect explainable explain_inspiration" style="height: 20px">
            <div>Inspiration</div>
            <div>&nbsp;=&nbsp;</div>
            <div class="update_display display_inspiration">0</div>
          </div>
        </div>

      </div>

    </body>
</html>
